\hypertarget{cipioconnection_8h}{\section{src/cip/cipioconnection.h \-File \-Reference}
\label{de/d45/cipioconnection_8h}\index{src/cip/cipioconnection.\-h@{src/cip/cipioconnection.\-h}}
}
{\ttfamily \#include \char`\"{}opener\-\_\-api.\-h\char`\"{}}\*
{\ttfamily \#include \char`\"{}cipconnectionmanager.\-h\char`\"{}}\*
\-Include dependency graph for cipioconnection.\-h\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{dc/d1c/cipioconnection_8h__incl}
\end{center}
\end{figure}
\-This graph shows which files directly or indirectly include this file\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/da7/cipioconnection_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{cipioconnection_8h_ab63a9cebd7f44ee474ac1fd446d5bc66}{\-Close\-Communication\-Channels\-And\-Remove\-From\-Active\-Connections\-List} (\hyperlink{cipconnectionmanager_8h_a705e78f4613ecabcb6388951b73c4700}{\-Connection\-Object} $\ast$\hyperlink{structconnection__object}{connection\-\_\-object})
\begin{DoxyCompactList}\small\item\em close the communication channels of the given connection and remove it from the active connections list. \end{DoxyCompactList}\item 
\hyperlink{typedefs_8h_a3dcc5f7837c120360f8cc88a76781709}{\-Eip\-Status} \hyperlink{cipioconnection_8h_aacd202b378a3fa8d5770536b698a0f51}{\-Establish\-Io\-Connction} (\hyperlink{cipconnectionmanager_8h_a705e78f4613ecabcb6388951b73c4700}{\-Connection\-Object} $\ast$\-R\-E\-S\-T\-R\-I\-C\-T const \hyperlink{structconnection__object}{connection\-\_\-object}, \hyperlink{typedefs_8h_ac1b4cfa25b4f5def62f23b455dd395d8}{\-Eip\-Uint16} $\ast$const extended\-\_\-error)
\begin{DoxyCompactList}\small\item\em \-Setup all data in order to establish an \-I\-O connection. \end{DoxyCompactList}\item 
\hyperlink{typedefs_8h_a3dcc5f7837c120360f8cc88a76781709}{\-Eip\-Status} \hyperlink{cipioconnection_8h_adbb39670c736df4ef89589a3b4e4df4e}{\-Open\-Communication\-Channels} (\hyperlink{cipconnectionmanager_8h_a705e78f4613ecabcb6388951b73c4700}{\-Connection\-Object} $\ast$\hyperlink{structconnection__object}{connection\-\_\-object})
\begin{DoxyCompactList}\small\item\em \-Take the data given in the connection object structure and open the necessary communication channels. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{\-Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{typedefs_8h_aa0c108ee762a27720919a4634643040e}{\-Eip\-Uint8} $\ast$ \hyperlink{cipioconnection_8h_a534c0a24266039f7ced0d36b7c5496bc}{g\-\_\-config\-\_\-data\-\_\-buffer}
\item 
unsigned int \hyperlink{cipioconnection_8h_ad20328302a359540d55f48ae36f7237d}{g\-\_\-config\-\_\-data\-\_\-length}
\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}
\-C\-I\-P \-I/\-O \-Connection implementation =================================

\-I/\-O \-Connection \-Object \-State \-Transition \-Diagram -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/ \begin{center}

\begin{DoxyImageNoCaption}
  \mbox{\includegraphics[width=\textwidth]{dot_inline_dotgraph_1}}
\end{DoxyImageNoCaption}
\end{center}
 

\-Definition in file \hyperlink{cipioconnection_8h_source}{cipioconnection.\-h}.



\subsection{\-Function \-Documentation}
\hypertarget{cipioconnection_8h_ab63a9cebd7f44ee474ac1fd446d5bc66}{\index{cipioconnection.\-h@{cipioconnection.\-h}!\-Close\-Communication\-Channels\-And\-Remove\-From\-Active\-Connections\-List@{\-Close\-Communication\-Channels\-And\-Remove\-From\-Active\-Connections\-List}}
\index{\-Close\-Communication\-Channels\-And\-Remove\-From\-Active\-Connections\-List@{\-Close\-Communication\-Channels\-And\-Remove\-From\-Active\-Connections\-List}!cipioconnection.h@{cipioconnection.\-h}}
\subsubsection[{\-Close\-Communication\-Channels\-And\-Remove\-From\-Active\-Connections\-List}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-Close\-Communication\-Channels\-And\-Remove\-From\-Active\-Connections\-List} (
\begin{DoxyParamCaption}
\item[{{\bf \-Connection\-Object} $\ast$}]{connection\-\_\-object}
\end{DoxyParamCaption}
)}}\label{de/d45/cipioconnection_8h_ab63a9cebd7f44ee474ac1fd446d5bc66}


close the communication channels of the given connection and remove it from the active connections list. 


\begin{DoxyParams}{\-Parameters}
{\em \hyperlink{structconnection__object}{connection\-\_\-object}} & pointer to the connection object data \\
\hline
\end{DoxyParams}


\-Definition at line 764 of file cipioconnection.\-c.



\-References \-I\-App\-\_\-\-Close\-Socket\-\_\-udp(), k\-Udp\-Communcation\-Direction\-Consuming, k\-Udp\-Communcation\-Direction\-Producing, \-Remove\-From\-Active\-Connections(), and connection\-\_\-object\-::socket.



\-Referenced by \-Close\-Io\-Connection().



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d45/cipioconnection_8h_ab63a9cebd7f44ee474ac1fd446d5bc66_cgraph}
\end{center}
\end{figure}




\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d45/cipioconnection_8h_ab63a9cebd7f44ee474ac1fd446d5bc66_icgraph}
\end{center}
\end{figure}


\hypertarget{cipioconnection_8h_aacd202b378a3fa8d5770536b698a0f51}{\index{cipioconnection.\-h@{cipioconnection.\-h}!\-Establish\-Io\-Connction@{\-Establish\-Io\-Connction}}
\index{\-Establish\-Io\-Connction@{\-Establish\-Io\-Connction}!cipioconnection.h@{cipioconnection.\-h}}
\subsubsection[{\-Establish\-Io\-Connction}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Eip\-Status} {\bf \-Establish\-Io\-Connction} (
\begin{DoxyParamCaption}
\item[{{\bf \-Connection\-Object} $\ast$\-R\-E\-S\-T\-R\-I\-C\-T const}]{connection\-\_\-object, }
\item[{{\bf \-Eip\-Uint16} $\ast$const}]{extended\-\_\-error}
\end{DoxyParamCaption}
)}}\label{de/d45/cipioconnection_8h_aacd202b378a3fa8d5770536b698a0f51}


\-Setup all data in order to establish an \-I\-O connection. 

\-This function can be called after all data has been parsed from the forward open request 
\begin{DoxyParams}{\-Parameters}
{\em \hyperlink{structconnection__object}{connection\-\_\-object}} & pointer to the connection object structure holding the parsed data from the forward open request \\
\hline
{\em extended\-\_\-error} & the extended error code in case an error happened \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
general status on the establishment
\begin{DoxyItemize}
\item \-E\-I\-P\-\_\-\-O\-K ... on success
\item \-On an error the general status code to be put into the response 
\end{DoxyItemize}
\end{DoxyReturn}
$<$ \-R\-P\-I not supported. \-Extended \-Error code deprecated 

\-Definition at line 80 of file cipioconnection.\-c.



\-References \-Add\-New\-Active\-Connection(), \-Cip\-Epath\-::attribute\-\_\-number, \-Check\-Io\-Connection\-Event(), \-Cip\-Epath\-::class\-\_\-id, \-Cip\-Connection\-Path\-::class\-\_\-id, \-Close\-Io\-Connection(), connection\-\_\-object\-::connection\-\_\-close\-\_\-function, connection\-\_\-object\-::connection\-\_\-path, \-Cip\-Connection\-Path\-::connection\-\_\-point, connection\-\_\-object\-::connection\-\_\-receive\-\_\-data\-\_\-function, connection\-\_\-object\-::connection\-\_\-send\-\_\-data\-\_\-function, connection\-\_\-object\-::connection\-\_\-timeout\-\_\-function, connection\-\_\-object\-::consumed\-\_\-connection\-\_\-path, connection\-\_\-object\-::consumed\-\_\-connection\-\_\-path\-\_\-length, connection\-\_\-object\-::consumed\-\_\-connection\-\_\-size, connection\-\_\-object\-::consuming\-\_\-instance, \-Cip\-Attribute\-Struct\-::data, g\-\_\-config\-\_\-data\-\_\-buffer, \-General\-Connection\-Configuration(), \-Get\-Cip\-Attribute(), \-Get\-Cip\-Class(), \-Get\-Cip\-Instance(), \-Get\-Io\-Connection\-For\-Connection\-Data(), \-Handle\-Config\-Data(), \-Handle\-Io\-Connection\-Time\-Out(), \-Handle\-Received\-Io\-Connection\-Data(), \-Cip\-Epath\-::instance\-\_\-number, k\-Cip\-Error\-Connection\-Failure, k\-Connection\-Manager\-Status\-Code\-Error\-Invalid\-O\-To\-T\-Connection\-Size, k\-Connection\-Manager\-Status\-Code\-Error\-Invalid\-T\-To\-O\-Connection\-Size, k\-Connection\-Manager\-Status\-Code\-Invalid\-Consuming\-Apllication\-Path, k\-Connection\-Manager\-Status\-Code\-Invalid\-Producing\-Application\-Path, k\-Connection\-Trigger\-Type\-Cyclic\-Connection, k\-Connection\-Trigger\-Type\-Production\-Trigger\-Mask, k\-Eip\-Status\-Ok, k\-Io\-Connection\-Event\-Opened, connection\-\_\-object\-::o\-\_\-to\-\_\-t\-\_\-network\-\_\-connection\-\_\-parameter, \-Open\-Communication\-Channels(), \-O\-P\-E\-N\-E\-R\-\_\-\-A\-S\-S\-E\-R\-T, \-Cip\-Epath\-::path\-\_\-size, connection\-\_\-object\-::produced\-\_\-connection\-\_\-path, connection\-\_\-object\-::produced\-\_\-connection\-\_\-path\-\_\-length, connection\-\_\-object\-::produced\-\_\-connection\-\_\-size, connection\-\_\-object\-::producing\-\_\-instance, connection\-\_\-object\-::production\-\_\-inhibit\-\_\-time, \-Send\-Connected\-Data(), connection\-\_\-object\-::t\-\_\-to\-\_\-o\-\_\-network\-\_\-connection\-\_\-parameter, connection\-\_\-object\-::t\-\_\-to\-\_\-o\-\_\-requested\-\_\-packet\-\_\-interval, and connection\-\_\-object\-::transport\-\_\-type\-\_\-class\-\_\-trigger.



\-Referenced by \-Connection\-Manager\-Init().



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d45/cipioconnection_8h_aacd202b378a3fa8d5770536b698a0f51_cgraph}
\end{center}
\end{figure}




\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d45/cipioconnection_8h_aacd202b378a3fa8d5770536b698a0f51_icgraph}
\end{center}
\end{figure}


\hypertarget{cipioconnection_8h_adbb39670c736df4ef89589a3b4e4df4e}{\index{cipioconnection.\-h@{cipioconnection.\-h}!\-Open\-Communication\-Channels@{\-Open\-Communication\-Channels}}
\index{\-Open\-Communication\-Channels@{\-Open\-Communication\-Channels}!cipioconnection.h@{cipioconnection.\-h}}
\subsubsection[{\-Open\-Communication\-Channels}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Eip\-Status} {\bf \-Open\-Communication\-Channels} (
\begin{DoxyParamCaption}
\item[{{\bf \-Connection\-Object} $\ast$}]{connection\-\_\-object}
\end{DoxyParamCaption}
)}}\label{de/d45/cipioconnection_8h_adbb39670c736df4ef89589a3b4e4df4e}


\-Take the data given in the connection object structure and open the necessary communication channels. 

\-This function will use the g\-\_\-st\-C\-P\-F\-Data\-Item! 
\begin{DoxyParams}{\-Parameters}
{\em \hyperlink{structconnection__object}{connection\-\_\-object}} & pointer to the connection object data \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
general status on the open process
\begin{DoxyItemize}
\item \-E\-I\-P\-\_\-\-O\-K ... on success
\item \-On an error the general status code to be put into the response 
\end{DoxyItemize}
\end{DoxyReturn}


\-Definition at line 711 of file cipioconnection.\-c.



\-References g\-\_\-common\-\_\-packet\-\_\-format\-\_\-data\-\_\-item, k\-Cip\-Error\-Connection\-Failure, k\-Eip\-Status\-Error, k\-Eip\-Status\-Ok, k\-Udp\-Communcation\-Direction\-Consuming, connection\-\_\-object\-::o\-\_\-to\-\_\-t\-\_\-network\-\_\-connection\-\_\-parameter, \-Open\-Consuming\-Point\-To\-Point\-Connection(), \-O\-P\-E\-N\-E\-R\-\_\-\-T\-R\-A\-C\-E\-\_\-\-E\-R\-R, \-Open\-Multicast\-Connection(), \-Open\-Producing\-Multicast\-Connection(), \-Open\-Producing\-Point\-To\-Point\-Connection(), \-Point\-To\-Multipoint, \-Point\-To\-Point, and connection\-\_\-object\-::t\-\_\-to\-\_\-o\-\_\-network\-\_\-connection\-\_\-parameter.



\-Referenced by \-Establish\-Io\-Connction().



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d45/cipioconnection_8h_adbb39670c736df4ef89589a3b4e4df4e_cgraph}
\end{center}
\end{figure}




\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d45/cipioconnection_8h_adbb39670c736df4ef89589a3b4e4df4e_icgraph}
\end{center}
\end{figure}




\subsection{\-Variable \-Documentation}
\hypertarget{cipioconnection_8h_a534c0a24266039f7ced0d36b7c5496bc}{\index{cipioconnection.\-h@{cipioconnection.\-h}!g\-\_\-config\-\_\-data\-\_\-buffer@{g\-\_\-config\-\_\-data\-\_\-buffer}}
\index{g\-\_\-config\-\_\-data\-\_\-buffer@{g\-\_\-config\-\_\-data\-\_\-buffer}!cipioconnection.h@{cipioconnection.\-h}}
\subsubsection[{g\-\_\-config\-\_\-data\-\_\-buffer}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Eip\-Uint8}$\ast$ {\bf g\-\_\-config\-\_\-data\-\_\-buffer}}}\label{de/d45/cipioconnection_8h_a534c0a24266039f7ced0d36b7c5496bc}
buffers for the config data coming with a forward open request. 

\-Definition at line 74 of file cipioconnection.\-c.



\-Referenced by \-Establish\-Io\-Connction(), \-Handle\-Config\-Data(), and \-Parse\-Connection\-Path().

\hypertarget{cipioconnection_8h_ad20328302a359540d55f48ae36f7237d}{\index{cipioconnection.\-h@{cipioconnection.\-h}!g\-\_\-config\-\_\-data\-\_\-length@{g\-\_\-config\-\_\-data\-\_\-length}}
\index{g\-\_\-config\-\_\-data\-\_\-length@{g\-\_\-config\-\_\-data\-\_\-length}!cipioconnection.h@{cipioconnection.\-h}}
\subsubsection[{g\-\_\-config\-\_\-data\-\_\-length}]{\setlength{\rightskip}{0pt plus 5cm}unsigned int {\bf g\-\_\-config\-\_\-data\-\_\-length}}}\label{de/d45/cipioconnection_8h_ad20328302a359540d55f48ae36f7237d}


\-Definition at line 75 of file cipioconnection.\-c.



\-Referenced by \-Handle\-Config\-Data(), and \-Parse\-Connection\-Path().

