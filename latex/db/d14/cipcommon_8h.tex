\hypertarget{cipcommon_8h}{\section{src/cip/cipcommon.h \-File \-Reference}
\label{db/d14/cipcommon_8h}\index{src/cip/cipcommon.\-h@{src/cip/cipcommon.\-h}}
}
{\ttfamily \#include \char`\"{}typedefs.\-h\char`\"{}}\*
{\ttfamily \#include \char`\"{}ciptypes.\-h\char`\"{}}\*
\-Include dependency graph for cipcommon.\-h\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=208pt]{de/d95/cipcommon_8h__incl}
\end{center}
\end{figure}
\-This graph shows which files directly or indirectly include this file\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{da/dfb/cipcommon_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{cipcommon_8h_accd84b7a7c79cb043932549a16c2ef61}{\-Decode\-Padded\-E\-Path} (\hyperlink{structCipEpath}{\-Cip\-Epath} $\ast$epath, const \hyperlink{typedefs_8h_aa0c108ee762a27720919a4634643040e}{\-Eip\-Uint8} $\ast$$\ast$data)
\begin{DoxyCompactList}\small\item\em \-Decodes padded \-E\-Path. \end{DoxyCompactList}\item 
\hyperlink{typedefs_8h_a3dcc5f7837c120360f8cc88a76781709}{\-Eip\-Status} \hyperlink{cipcommon_8h_a8aa8e5e3dc4c505af8ba8ca4e37d9d3e}{\-Get\-Attribute\-All} (\hyperlink{ciptypes_8h_aea7976be629e5ece275c993982186188}{\-Cip\-Instance} $\ast$instance, \hyperlink{structCipMessageRouterRequest}{\-Cip\-Message\-Router\-Request} $\ast$message\-\_\-router\-\_\-request, \hyperlink{structCipMessageRouterResponse}{\-Cip\-Message\-Router\-Response} $\ast$message\-\_\-router\-\_\-response)
\begin{DoxyCompactList}\small\item\em \-Generic implementation of the \-Get\-Attribute\-All \-C\-I\-P service. \end{DoxyCompactList}\item 
\hyperlink{typedefs_8h_a3dcc5f7837c120360f8cc88a76781709}{\-Eip\-Status} \hyperlink{cipcommon_8h_a92cbf8f0a7c9d1e251d22c046f0526bb}{\-Get\-Attribute\-Single} (\hyperlink{ciptypes_8h_aea7976be629e5ece275c993982186188}{\-Cip\-Instance} $\ast$\-R\-E\-S\-T\-R\-I\-C\-T const instance, \hyperlink{structCipMessageRouterRequest}{\-Cip\-Message\-Router\-Request} $\ast$const message\-\_\-router\-\_\-request, \hyperlink{structCipMessageRouterResponse}{\-Cip\-Message\-Router\-Response} $\ast$const message\-\_\-router\-\_\-response)
\begin{DoxyCompactList}\small\item\em \-Generic implementation of the \-Get\-Attribute\-Single \-C\-I\-P service. \end{DoxyCompactList}\item 
\hyperlink{typedefs_8h_a3dcc5f7837c120360f8cc88a76781709}{\-Eip\-Status} \hyperlink{cipcommon_8h_a15892f2d25bd321489d611309e659c46}{\-Notify\-Class} (const \hyperlink{ciptypes_8h_a175191808b8fac50b47d9bbc9edc6051}{\-Cip\-Class} $\ast$\-R\-E\-S\-T\-R\-I\-C\-T const class, \hyperlink{structCipMessageRouterRequest}{\-Cip\-Message\-Router\-Request} $\ast$const message\-\_\-router\-\_\-request, \hyperlink{structCipMessageRouterResponse}{\-Cip\-Message\-Router\-Response} $\ast$const message\-\_\-router\-\_\-response)
\begin{DoxyCompactList}\small\item\em \-Check if requested service present in class/instance and call appropriate service. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{\-Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{typedefs_8h_aa0c108ee762a27720919a4634643040e}{\-Eip\-Uint8} \hyperlink{cipcommon_8h_aa55f071fcbd0613ff862c9389aa54000}{g\-\_\-message\-\_\-data\-\_\-reply\-\_\-buffer} \mbox{[}$\,$\mbox{]}
\end{DoxyCompactItemize}


\subsection{\-Detailed \-Description}
\-Common \-C\-I\-P object interface 

\-Definition in file \hyperlink{cipcommon_8h_source}{cipcommon.\-h}.



\subsection{\-Function \-Documentation}
\hypertarget{cipcommon_8h_accd84b7a7c79cb043932549a16c2ef61}{\index{cipcommon.\-h@{cipcommon.\-h}!\-Decode\-Padded\-E\-Path@{\-Decode\-Padded\-E\-Path}}
\index{\-Decode\-Padded\-E\-Path@{\-Decode\-Padded\-E\-Path}!cipcommon.h@{cipcommon.\-h}}
\subsubsection[{\-Decode\-Padded\-E\-Path}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf \-Decode\-Padded\-E\-Path} (
\begin{DoxyParamCaption}
\item[{{\bf \-Cip\-Epath} $\ast$}]{epath, }
\item[{const {\bf \-Eip\-Uint8} $\ast$$\ast$}]{data}
\end{DoxyParamCaption}
)}}\label{db/d14/cipcommon_8h_accd84b7a7c79cb043932549a16c2ef61}


\-Decodes padded \-E\-Path. 


\begin{DoxyParams}{\-Parameters}
{\em epath} & \-E\-Path to the receiving element \\
\hline
{\em message} & \-C\-I\-P \-Message to decode \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-Number of decoded bytes 
\end{DoxyReturn}


\-Definition at line 743 of file cipcommon.\-c.



\-References \-Cip\-Epath\-::attribute\-\_\-number, \-Cip\-Epath\-::class\-\_\-id, \-Get\-Int\-From\-Message(), \-Cip\-Epath\-::instance\-\_\-number, k\-Eip\-Status\-Error, k\-Logical\-Segment\-Logical\-Format\-Eight\-Bit\-Value, k\-Logical\-Segment\-Logical\-Format\-Sixteen\-Bit\-Value, k\-Logical\-Segment\-Logical\-Type\-Attribute\-Id, k\-Logical\-Segment\-Logical\-Type\-Class\-Id, k\-Logical\-Segment\-Logical\-Type\-Instance\-Id, k\-Segment\-Type\-Logical\-Segment, k\-Segment\-Type\-Segment\-Type\-Reserved, \-O\-P\-E\-N\-E\-R\-\_\-\-T\-R\-A\-C\-E\-\_\-\-E\-R\-R, and \-Cip\-Epath\-::path\-\_\-size.



\-Referenced by \-Create\-Message\-Router\-Request\-Structure().



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=332pt]{db/d14/cipcommon_8h_accd84b7a7c79cb043932549a16c2ef61_cgraph}
\end{center}
\end{figure}




\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d14/cipcommon_8h_accd84b7a7c79cb043932549a16c2ef61_icgraph}
\end{center}
\end{figure}


\hypertarget{cipcommon_8h_a8aa8e5e3dc4c505af8ba8ca4e37d9d3e}{\index{cipcommon.\-h@{cipcommon.\-h}!\-Get\-Attribute\-All@{\-Get\-Attribute\-All}}
\index{\-Get\-Attribute\-All@{\-Get\-Attribute\-All}!cipcommon.h@{cipcommon.\-h}}
\subsubsection[{\-Get\-Attribute\-All}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Eip\-Status} {\bf \-Get\-Attribute\-All} (
\begin{DoxyParamCaption}
\item[{{\bf \-Cip\-Instance} $\ast$}]{instance, }
\item[{{\bf \-Cip\-Message\-Router\-Request} $\ast$}]{message\-\_\-router\-\_\-request, }
\item[{{\bf \-Cip\-Message\-Router\-Response} $\ast$}]{message\-\_\-router\-\_\-response}
\end{DoxyParamCaption}
)}}\label{db/d14/cipcommon_8h_a8aa8e5e3dc4c505af8ba8ca4e37d9d3e}


\-Generic implementation of the \-Get\-Attribute\-All \-C\-I\-P service. 

\-Copy all attributes from \-Object into the global message buffer. 
\begin{DoxyParams}{\-Parameters}
{\em instance} & pointer to object instance with data. \\
\hline
{\em message\-\_\-router\-\_\-request} & pointer to \-M\-R request. \\
\hline
{\em message\-\_\-router\-\_\-response} & pointer for \-M\-R response. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
length of data stream $>$0 .. success 0 .. no reply to send 
\end{DoxyReturn}


\-Definition at line 635 of file cipcommon.\-c.



\-References \-Cip\-Epath\-::attribute\-\_\-number, \-Cip\-Attribute\-Struct\-::attribute\-\_\-number, cip\-\_\-instance\-::attributes, cip\-\_\-instance\-::cip\-\_\-class, \-Cip\-Message\-Router\-Response\-::data, \-Cip\-Message\-Router\-Response\-::data\-\_\-length, \-Cip\-Message\-Router\-Response\-::general\-\_\-status, cip\-\_\-class\-::get\-\_\-attribute\-\_\-all\-\_\-mask, cip\-\_\-instance\-::instance\-\_\-number, k\-Cip\-Error\-Service\-Not\-Supported, k\-Eip\-Status\-Error, k\-Eip\-Status\-Ok, k\-Eip\-Status\-Ok\-Send, k\-Get\-Attribute\-Single, cip\-\_\-class\-::number\-\_\-of\-\_\-attributes, cip\-\_\-class\-::number\-\_\-of\-\_\-services, \-O\-P\-E\-N\-E\-R\-\_\-\-T\-R\-A\-C\-E\-\_\-\-I\-N\-F\-O, \-Cip\-Message\-Router\-Response\-::reply\-\_\-service, \-Cip\-Message\-Router\-Request\-::request\-\_\-path, \-Cip\-Message\-Router\-Request\-::service, cip\-\_\-service\-\_\-struct\-::service\-\_\-function, cip\-\_\-service\-\_\-struct\-::service\-\_\-number, cip\-\_\-class\-::services, and \-Cip\-Message\-Router\-Response\-::size\-\_\-of\-\_\-additional\-\_\-status.



\-Referenced by \-Create\-Cip\-Class().



\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d14/cipcommon_8h_a8aa8e5e3dc4c505af8ba8ca4e37d9d3e_icgraph}
\end{center}
\end{figure}


\hypertarget{cipcommon_8h_a92cbf8f0a7c9d1e251d22c046f0526bb}{\index{cipcommon.\-h@{cipcommon.\-h}!\-Get\-Attribute\-Single@{\-Get\-Attribute\-Single}}
\index{\-Get\-Attribute\-Single@{\-Get\-Attribute\-Single}!cipcommon.h@{cipcommon.\-h}}
\subsubsection[{\-Get\-Attribute\-Single}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Eip\-Status} {\bf \-Get\-Attribute\-Single} (
\begin{DoxyParamCaption}
\item[{{\bf \-Cip\-Instance} $\ast$\-R\-E\-S\-T\-R\-I\-C\-T const}]{instance, }
\item[{{\bf \-Cip\-Message\-Router\-Request} $\ast$const}]{message\-\_\-router\-\_\-request, }
\item[{{\bf \-Cip\-Message\-Router\-Response} $\ast$const}]{message\-\_\-router\-\_\-response}
\end{DoxyParamCaption}
)}}\label{db/d14/cipcommon_8h_a92cbf8f0a7c9d1e251d22c046f0526bb}


\-Generic implementation of the \-Get\-Attribute\-Single \-C\-I\-P service. 

\-Check from class\-I\-D which \-Object requests an attribute, search if object has the appropriate attribute implemented. 
\begin{DoxyParams}{\-Parameters}
{\em instance} & pointer to instance. \\
\hline
{\em message\-\_\-router\-\_\-request} & pointer to request. \\
\hline
{\em message\-\_\-router\-\_\-response} & pointer to response. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
status $>$0 .. success -\/1 .. requested attribute not available 
\end{DoxyReturn}


\-Definition at line 353 of file cipcommon.\-c.



\-References \-Cip\-Attribute\-Struct\-::attribute\-\_\-flags, \-Cip\-Epath\-::attribute\-\_\-number, \-Before\-Assembly\-Data\-Send(), \-Cip\-Message\-Router\-Response\-::data, \-Cip\-Attribute\-Struct\-::data, \-Cip\-Message\-Router\-Response\-::data\-\_\-length, \-Encode\-Data(), \-Cip\-Message\-Router\-Response\-::general\-\_\-status, \-Get\-Cip\-Attribute(), k\-Cip\-Byte\-Array, k\-Cip\-Error\-Attribute\-Not\-Supported, k\-Cip\-Error\-Success, k\-Eip\-Status\-Ok\-Send, k\-Getable\-All, k\-Getable\-Single, k\-Get\-Attribute\-All, k\-Not\-Set\-Or\-Getable, \-O\-P\-E\-N\-E\-R\-\_\-\-T\-R\-A\-C\-E\-\_\-\-I\-N\-F\-O, \-Cip\-Message\-Router\-Response\-::reply\-\_\-service, \-Cip\-Message\-Router\-Request\-::request\-\_\-path, \-Cip\-Message\-Router\-Request\-::service, \-Cip\-Message\-Router\-Response\-::size\-\_\-of\-\_\-additional\-\_\-status, and \-Cip\-Attribute\-Struct\-::type.



\-Referenced by \-Create\-Cip\-Class(), and \-Get\-Attribute\-Single\-Tcp\-Ip\-Interface().



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d14/cipcommon_8h_a92cbf8f0a7c9d1e251d22c046f0526bb_cgraph}
\end{center}
\end{figure}




\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d14/cipcommon_8h_a92cbf8f0a7c9d1e251d22c046f0526bb_icgraph}
\end{center}
\end{figure}


\hypertarget{cipcommon_8h_a15892f2d25bd321489d611309e659c46}{\index{cipcommon.\-h@{cipcommon.\-h}!\-Notify\-Class@{\-Notify\-Class}}
\index{\-Notify\-Class@{\-Notify\-Class}!cipcommon.h@{cipcommon.\-h}}
\subsubsection[{\-Notify\-Class}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Eip\-Status} {\bf \-Notify\-Class} (
\begin{DoxyParamCaption}
\item[{const {\bf \-Cip\-Class} $\ast$\-R\-E\-S\-T\-R\-I\-C\-T const}]{class, }
\item[{{\bf \-Cip\-Message\-Router\-Request} $\ast$const}]{message\-\_\-router\-\_\-request, }
\item[{{\bf \-Cip\-Message\-Router\-Response} $\ast$const}]{message\-\_\-router\-\_\-response}
\end{DoxyParamCaption}
)}}\label{db/d14/cipcommon_8h_a15892f2d25bd321489d611309e659c46}


\-Check if requested service present in class/instance and call appropriate service. 


\begin{DoxyParams}{\-Parameters}
{\em class} & class receiving the message \\
\hline
{\em message\-\_\-router\-\_\-request} & request message \\
\hline
{\em message\-\_\-router\-\_\-response} & reply message \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}

\begin{DoxyItemize}
\item k\-Eip\-Status\-Ok\-Send ... success
\item k\-Eip\-Status\-Ok ... no reply to send back
\item k\-Eip\-Status\-Error ... error 
\end{DoxyItemize}
\end{DoxyReturn}


\-Definition at line 70 of file cipcommon.\-c.



\-References cip\-\_\-instance\-::cip\-\_\-class, \-Cip\-Message\-Router\-Response\-::data\-\_\-length, \-Cip\-Message\-Router\-Response\-::general\-\_\-status, \-Get\-Cip\-Instance(), \-Cip\-Epath\-::instance\-\_\-number, k\-Cip\-Error\-Path\-Destination\-Unknown, k\-Cip\-Error\-Service\-Not\-Supported, k\-Eip\-Status\-Ok\-Send, cip\-\_\-service\-\_\-struct\-::name, cip\-\_\-class\-::number\-\_\-of\-\_\-services, \-O\-P\-E\-N\-E\-R\-\_\-\-A\-S\-S\-E\-R\-T, \-O\-P\-E\-N\-E\-R\-\_\-\-T\-R\-A\-C\-E\-\_\-\-I\-N\-F\-O, \-O\-P\-E\-N\-E\-R\-\_\-\-T\-R\-A\-C\-E\-\_\-\-W\-A\-R\-N, \-Cip\-Message\-Router\-Response\-::reply\-\_\-service, \-Cip\-Message\-Router\-Request\-::request\-\_\-path, \-Cip\-Message\-Router\-Request\-::service, cip\-\_\-service\-\_\-struct\-::service\-\_\-function, cip\-\_\-service\-\_\-struct\-::service\-\_\-number, cip\-\_\-class\-::services, and \-Cip\-Message\-Router\-Response\-::size\-\_\-of\-\_\-additional\-\_\-status.



\-Referenced by \-Notify\-Message\-Router().



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=270pt]{db/d14/cipcommon_8h_a15892f2d25bd321489d611309e659c46_cgraph}
\end{center}
\end{figure}




\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{db/d14/cipcommon_8h_a15892f2d25bd321489d611309e659c46_icgraph}
\end{center}
\end{figure}




\subsection{\-Variable \-Documentation}
\hypertarget{cipcommon_8h_aa55f071fcbd0613ff862c9389aa54000}{\index{cipcommon.\-h@{cipcommon.\-h}!g\-\_\-message\-\_\-data\-\_\-reply\-\_\-buffer@{g\-\_\-message\-\_\-data\-\_\-reply\-\_\-buffer}}
\index{g\-\_\-message\-\_\-data\-\_\-reply\-\_\-buffer@{g\-\_\-message\-\_\-data\-\_\-reply\-\_\-buffer}!cipcommon.h@{cipcommon.\-h}}
\subsubsection[{g\-\_\-message\-\_\-data\-\_\-reply\-\_\-buffer}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Eip\-Uint8} {\bf g\-\_\-message\-\_\-data\-\_\-reply\-\_\-buffer}\mbox{[}$\,$\mbox{]}}}\label{db/d14/cipcommon_8h_aa55f071fcbd0613ff862c9389aa54000}
\-A buffer for holding the replay generated by explicit message requests or producing \-I/\-O connections. \-These will use this buffer in the following ways\-: 1. \-Explicit messages will use this buffer to store the data generated by the request 2. \-I/\-O \-Connections will use this buffer for the produced data

\-Reply buffer 

\-Definition at line 26 of file cipcommon.\-c.



\-Referenced by \-Assemble\-I\-O\-Message(), \-Cip\-Message\-Router\-Init(), \-Notify\-Message\-Router(), and \-Send\-Connected\-Data().

