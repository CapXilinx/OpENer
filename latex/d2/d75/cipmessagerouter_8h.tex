\hypertarget{cipmessagerouter_8h}{\section{src/cip/cipmessagerouter.h \-File \-Reference}
\label{d2/d75/cipmessagerouter_8h}\index{src/cip/cipmessagerouter.\-h@{src/cip/cipmessagerouter.\-h}}
}
{\ttfamily \#include \char`\"{}typedefs.\-h\char`\"{}}\*
{\ttfamily \#include \char`\"{}ciptypes.\-h\char`\"{}}\*
\-Include dependency graph for cipmessagerouter.\-h\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=214pt]{d1/d62/cipmessagerouter_8h__incl}
\end{center}
\end{figure}
\-This graph shows which files directly or indirectly include this file\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d1d/cipmessagerouter_8h__dep__incl}
\end{center}
\end{figure}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{typedefs_8h_a3dcc5f7837c120360f8cc88a76781709}{\-Eip\-Status} \hyperlink{cipmessagerouter_8h_aa3456b75c1b2289296323b578fee2d3d}{\-Cip\-Message\-Router\-Init} (void)
\begin{DoxyCompactList}\small\item\em \-Initialize the data structures of the message router. \end{DoxyCompactList}\item 
void \hyperlink{cipmessagerouter_8h_a16364f408990e2a5725f2fd5375ef3df}{\-Delete\-All\-Classes} (void)
\begin{DoxyCompactList}\small\item\em \-Free all data allocated by the classes created in the \-C\-I\-P stack. \end{DoxyCompactList}\item 
\hyperlink{typedefs_8h_a3dcc5f7837c120360f8cc88a76781709}{\-Eip\-Status} \hyperlink{cipmessagerouter_8h_a0e29ef6a602d17052584c167d9b86084}{\-Notify\-Message\-Router} (\hyperlink{typedefs_8h_aa0c108ee762a27720919a4634643040e}{\-Eip\-Uint8} $\ast$data, int data\-\_\-length)
\begin{DoxyCompactList}\small\item\em \-Notify the \-Message\-Router that an explicit message (connected or unconnected) has been received. \-This function will be called from the encapsulation layer. \-The \-C\-P\-F structure is already parsed an can be accessed via the global variable\-: g\-\_\-st\-C\-P\-F\-Data\-Item. \end{DoxyCompactList}\item 
\hyperlink{typedefs_8h_a3dcc5f7837c120360f8cc88a76781709}{\-Eip\-Status} \hyperlink{cipmessagerouter_8h_ab2dba07e2f3b4f4bac30d10e8b2ceeb1}{\-Register\-Cip\-Class} (\hyperlink{ciptypes_8h_a175191808b8fac50b47d9bbc9edc6051}{\-Cip\-Class} $\ast$object)
\begin{DoxyCompactList}\small\item\em \-Register an \-Class to the message router. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{\-Variables}
\begin{DoxyCompactItemize}
\item 
\hyperlink{structCipMessageRouterResponse}{\-Cip\-Message\-Router\-Response} \hyperlink{cipmessagerouter_8h_a763af44f52a3df0fd61f63c54cc0dc4c}{g\-\_\-message\-\_\-router\-\_\-response}
\begin{DoxyCompactList}\small\item\em \-Structure for storing the \-Response generated by an explict message. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{\-Function \-Documentation}
\hypertarget{cipmessagerouter_8h_aa3456b75c1b2289296323b578fee2d3d}{\index{cipmessagerouter.\-h@{cipmessagerouter.\-h}!\-Cip\-Message\-Router\-Init@{\-Cip\-Message\-Router\-Init}}
\index{\-Cip\-Message\-Router\-Init@{\-Cip\-Message\-Router\-Init}!cipmessagerouter.h@{cipmessagerouter.\-h}}
\subsubsection[{\-Cip\-Message\-Router\-Init}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Eip\-Status} {\bf \-Cip\-Message\-Router\-Init} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{d2/d75/cipmessagerouter_8h_aa3456b75c1b2289296323b578fee2d3d}


\-Initialize the data structures of the message router. 

\begin{DoxyReturn}{\-Returns}
k\-Eip\-Status\-Ok if class was initialized, otherwise k\-Eip\-Status\-Error 
\end{DoxyReturn}


\-Definition at line 50 of file cipmessagerouter.\-c.



\-References \-Create\-Cip\-Class(), \-Cip\-Message\-Router\-Response\-::data, g\-\_\-message\-\_\-data\-\_\-reply\-\_\-buffer, k\-Eip\-Status\-Error, k\-Eip\-Status\-Ok, and \-Cip\-Message\-Router\-Response\-::reserved.



\-Referenced by \-Cip\-Stack\-Init().



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d75/cipmessagerouter_8h_aa3456b75c1b2289296323b578fee2d3d_cgraph}
\end{center}
\end{figure}




\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d75/cipmessagerouter_8h_aa3456b75c1b2289296323b578fee2d3d_icgraph}
\end{center}
\end{figure}


\hypertarget{cipmessagerouter_8h_a16364f408990e2a5725f2fd5375ef3df}{\index{cipmessagerouter.\-h@{cipmessagerouter.\-h}!\-Delete\-All\-Classes@{\-Delete\-All\-Classes}}
\index{\-Delete\-All\-Classes@{\-Delete\-All\-Classes}!cipmessagerouter.h@{cipmessagerouter.\-h}}
\subsubsection[{\-Delete\-All\-Classes}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-Delete\-All\-Classes} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{d2/d75/cipmessagerouter_8h_a16364f408990e2a5725f2fd5375ef3df}


\-Free all data allocated by the classes created in the \-C\-I\-P stack. 



\-Definition at line 219 of file cipmessagerouter.\-c.



\-References cip\-\_\-instance\-::attributes, cip\-\_\-message\-\_\-router\-\_\-object\-::cip\-\_\-class, cip\-\_\-instance\-::cip\-\_\-class, \-Cip\-Free(), cip\-\_\-class\-::class\-\_\-instance, cip\-\_\-class\-::class\-\_\-name, g\-\_\-first\-\_\-object, cip\-\_\-class\-::instances, cip\-\_\-message\-\_\-router\-\_\-object\-::next, cip\-\_\-instance\-::next, cip\-\_\-class\-::number\-\_\-of\-\_\-attributes, and cip\-\_\-class\-::services.



\-Referenced by \-Shutdown\-Cip\-Stack().



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=260pt]{d2/d75/cipmessagerouter_8h_a16364f408990e2a5725f2fd5375ef3df_cgraph}
\end{center}
\end{figure}




\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d75/cipmessagerouter_8h_a16364f408990e2a5725f2fd5375ef3df_icgraph}
\end{center}
\end{figure}


\hypertarget{cipmessagerouter_8h_a0e29ef6a602d17052584c167d9b86084}{\index{cipmessagerouter.\-h@{cipmessagerouter.\-h}!\-Notify\-Message\-Router@{\-Notify\-Message\-Router}}
\index{\-Notify\-Message\-Router@{\-Notify\-Message\-Router}!cipmessagerouter.h@{cipmessagerouter.\-h}}
\subsubsection[{\-Notify\-Message\-Router}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Eip\-Status} {\bf \-Notify\-Message\-Router} (
\begin{DoxyParamCaption}
\item[{{\bf \-Eip\-Uint8} $\ast$}]{data, }
\item[{int}]{data\-\_\-length}
\end{DoxyParamCaption}
)}}\label{d2/d75/cipmessagerouter_8h_a0e29ef6a602d17052584c167d9b86084}


\-Notify the \-Message\-Router that an explicit message (connected or unconnected) has been received. \-This function will be called from the encapsulation layer. \-The \-C\-P\-F structure is already parsed an can be accessed via the global variable\-: g\-\_\-st\-C\-P\-F\-Data\-Item. 


\begin{DoxyParams}{\-Parameters}
{\em data} & pointer to the data buffer of the message directly at the beginning of the \-C\-I\-P part. \\
\hline
{\em data\-\_\-length} & number of bytes in the data buffer \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-E\-I\-P\-\_\-\-E\-R\-R\-O\-R on fault \-E\-I\-P\-\_\-\-O\-K on success 
\end{DoxyReturn}


\-Definition at line 133 of file cipmessagerouter.\-c.



\-References cip\-\_\-message\-\_\-router\-\_\-object\-::cip\-\_\-class, \-Cip\-Epath\-::class\-\_\-id, cip\-\_\-class\-::class\-\_\-name, \-Create\-Message\-Router\-Request\-Structure(), \-Cip\-Message\-Router\-Response\-::data, \-Cip\-Message\-Router\-Response\-::data\-\_\-length, g\-\_\-message\-\_\-data\-\_\-reply\-\_\-buffer, \-Cip\-Message\-Router\-Response\-::general\-\_\-status, \-Get\-Registered\-Object(), k\-Cip\-Error\-Path\-Destination\-Unknown, k\-Cip\-Error\-Success, k\-Eip\-Status\-Error, k\-Eip\-Status\-Ok, k\-Eip\-Status\-Ok\-Send, \-Notify\-Class(), \-O\-P\-E\-N\-E\-R\-\_\-\-A\-S\-S\-E\-R\-T, \-O\-P\-E\-N\-E\-R\-\_\-\-T\-R\-A\-C\-E\-\_\-\-E\-R\-R, \-O\-P\-E\-N\-E\-R\-\_\-\-T\-R\-A\-C\-E\-\_\-\-I\-N\-F\-O, \-Cip\-Message\-Router\-Response\-::reply\-\_\-service, \-Cip\-Message\-Router\-Request\-::request\-\_\-path, \-Cip\-Message\-Router\-Response\-::reserved, \-Cip\-Message\-Router\-Request\-::service, and \-Cip\-Message\-Router\-Response\-::size\-\_\-of\-\_\-additional\-\_\-status.



\-Referenced by \-Notify\-Common\-Packet\-Format(), and \-Notify\-Connected\-Common\-Packet\-Format().



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d75/cipmessagerouter_8h_a0e29ef6a602d17052584c167d9b86084_cgraph}
\end{center}
\end{figure}




\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d75/cipmessagerouter_8h_a0e29ef6a602d17052584c167d9b86084_icgraph}
\end{center}
\end{figure}


\hypertarget{cipmessagerouter_8h_ab2dba07e2f3b4f4bac30d10e8b2ceeb1}{\index{cipmessagerouter.\-h@{cipmessagerouter.\-h}!\-Register\-Cip\-Class@{\-Register\-Cip\-Class}}
\index{\-Register\-Cip\-Class@{\-Register\-Cip\-Class}!cipmessagerouter.h@{cipmessagerouter.\-h}}
\subsubsection[{\-Register\-Cip\-Class}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Eip\-Status} {\bf \-Register\-Cip\-Class} (
\begin{DoxyParamCaption}
\item[{{\bf \-Cip\-Class} $\ast$}]{cip\-\_\-class}
\end{DoxyParamCaption}
)}}\label{d2/d75/cipmessagerouter_8h_ab2dba07e2f3b4f4bac30d10e8b2ceeb1}


\-Register an \-Class to the message router. 

\-Register a class at the message router. \-In order that the message router can deliver explicit messages each class has to register. \-Will be automatically done when invoking create create\-C\-I\-P\-Class. 
\begin{DoxyParams}{\-Parameters}
{\em object} & \-C\-I\-P class to be registered \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
\-E\-I\-P\-\_\-\-O\-K on success
\end{DoxyReturn}

\begin{DoxyParams}{\-Parameters}
{\em \hyperlink{structcip__class}{cip\-\_\-class}} & \-Pointer to a class object to be registered. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}
status 0 .. success -\/1 .. error no memory available to register more objects 
\end{DoxyReturn}


\-Definition at line 116 of file cipmessagerouter.\-c.



\-References cip\-\_\-message\-\_\-router\-\_\-object\-::cip\-\_\-class, \-Cip\-Calloc(), g\-\_\-first\-\_\-object, k\-Eip\-Status\-Error, k\-Eip\-Status\-Ok, and cip\-\_\-message\-\_\-router\-\_\-object\-::next.



\-Referenced by \-Create\-Cip\-Class().



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=270pt]{d2/d75/cipmessagerouter_8h_ab2dba07e2f3b4f4bac30d10e8b2ceeb1_cgraph}
\end{center}
\end{figure}




\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{d2/d75/cipmessagerouter_8h_ab2dba07e2f3b4f4bac30d10e8b2ceeb1_icgraph}
\end{center}
\end{figure}




\subsection{\-Variable \-Documentation}
\hypertarget{cipmessagerouter_8h_a763af44f52a3df0fd61f63c54cc0dc4c}{\index{cipmessagerouter.\-h@{cipmessagerouter.\-h}!g\-\_\-message\-\_\-router\-\_\-response@{g\-\_\-message\-\_\-router\-\_\-response}}
\index{g\-\_\-message\-\_\-router\-\_\-response@{g\-\_\-message\-\_\-router\-\_\-response}!cipmessagerouter.h@{cipmessagerouter.\-h}}
\subsubsection[{g\-\_\-message\-\_\-router\-\_\-response}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Cip\-Message\-Router\-Response} {\bf g\-\_\-message\-\_\-router\-\_\-response}}}\label{d2/d75/cipmessagerouter_8h_a763af44f52a3df0fd61f63c54cc0dc4c}


\-Structure for storing the \-Response generated by an explict message. 

\-This buffer will be used for storing the result. \-The response message will be generated by assemble\-Linear\-Msg. 

\-Definition at line 14 of file cipmessagerouter.\-c.



\-Referenced by \-Notify\-Common\-Packet\-Format(), and \-Notify\-Connected\-Common\-Packet\-Format().

