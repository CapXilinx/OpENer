\hypertarget{cipassembly_8c}{\section{src/cip/cipassembly.c \-File \-Reference}
\label{df/d2e/cipassembly_8c}\index{src/cip/cipassembly.\-c@{src/cip/cipassembly.\-c}}
}
{\ttfamily \#include $<$string.\-h$>$}\*
{\ttfamily \#include \char`\"{}cipassembly.\-h\char`\"{}}\*
{\ttfamily \#include \char`\"{}cipcommon.\-h\char`\"{}}\*
{\ttfamily \#include \char`\"{}opener\-\_\-api.\-h\char`\"{}}\*
{\ttfamily \#include \char`\"{}trace.\-h\char`\"{}}\*
{\ttfamily \#include \char`\"{}cipconnectionmanager.\-h\char`\"{}}\*
\-Include dependency graph for cipassembly.\-c\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{de/d9e/cipassembly_8c__incl}
\end{center}
\end{figure}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{typedefs_8h_a3dcc5f7837c120360f8cc88a76781709}{\-Eip\-Status} \hyperlink{cipassembly_8c_a4dfbc2c7a8e9e77f05a0a7236210f5b4}{\-Cip\-Assembly\-Initialize} (void)
\begin{DoxyCompactList}\small\item\em create the \-C\-I\-P \-Assembly object with zero instances \end{DoxyCompactList}\item 
\hyperlink{ciptypes_8h_a175191808b8fac50b47d9bbc9edc6051}{\-Cip\-Class} $\ast$ \hyperlink{cipassembly_8c_a5973ef42110a1bdf6c7699e35e04b7d4}{\-Create\-Assembly\-Class} (void)
\begin{DoxyCompactList}\small\item\em \-Constructor for the assembly object class. \end{DoxyCompactList}\item 
\hyperlink{ciptypes_8h_aea7976be629e5ece275c993982186188}{\-Cip\-Instance} $\ast$ \hyperlink{group__CIP__API_gae61b613fed863d30428e78b2311bf593}{\-Create\-Assembly\-Object} (const \hyperlink{typedefs_8h_abf2dd49262551294eb990ef8746a2767}{\-Eip\-Uint32} instance\-\_\-id, \hyperlink{typedefs_8h_a168bac8db7e7e6d944700e1ac4717ae3}{\-Eip\-Byte} $\ast$const data, const \hyperlink{typedefs_8h_ac1b4cfa25b4f5def62f23b455dd395d8}{\-Eip\-Uint16} data\-\_\-length)
\begin{DoxyCompactList}\small\item\em \-Create an instance of an assembly object. \end{DoxyCompactList}\item 
\hyperlink{typedefs_8h_a3dcc5f7837c120360f8cc88a76781709}{\-Eip\-Status} \hyperlink{cipassembly_8c_a5dc25129faf75858c0aeaa88ea8d9490}{\-Notify\-Assembly\-Connected\-Data\-Received} (\hyperlink{ciptypes_8h_aea7976be629e5ece275c993982186188}{\-Cip\-Instance} $\ast$const instance, const \hyperlink{typedefs_8h_aa0c108ee762a27720919a4634643040e}{\-Eip\-Uint8} $\ast$const data, const \hyperlink{typedefs_8h_ac1b4cfa25b4f5def62f23b455dd395d8}{\-Eip\-Uint16} data\-\_\-length)
\begin{DoxyCompactList}\small\item\em notify an \-Assembly object that data has been received for it. \end{DoxyCompactList}\item 
\hyperlink{typedefs_8h_a3dcc5f7837c120360f8cc88a76781709}{\-Eip\-Status} \hyperlink{cipassembly_8c_a24f895e586ce144d560489723960ba80}{\-Set\-Assembly\-Attribute\-Single} (\hyperlink{ciptypes_8h_aea7976be629e5ece275c993982186188}{\-Cip\-Instance} $\ast$const instance, \hyperlink{structCipMessageRouterRequest}{\-Cip\-Message\-Router\-Request} $\ast$const message\-\_\-router\-\_\-request, \hyperlink{structCipMessageRouterResponse}{\-Cip\-Message\-Router\-Response} $\ast$const message\-\_\-router\-\_\-response)
\begin{DoxyCompactList}\small\item\em \-Implementation of the \-Set\-Attribute\-Single \-C\-I\-P service for \-Assembly \-Objects. \-Currently only supports \-Attribute 3 (\-C\-I\-P\-\_\-\-B\-Y\-T\-E\-\_\-\-A\-R\-R\-A\-Y) of an \-Assembly. \end{DoxyCompactList}\item 
void \hyperlink{cipassembly_8c_adcacd62b6a866c5c74c3cdda19598b98}{\-Shutdown\-Assemblies} (void)
\begin{DoxyCompactList}\small\item\em clean up the data allocated in the assembly object instances \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{\-Function \-Documentation}
\hypertarget{cipassembly_8c_a4dfbc2c7a8e9e77f05a0a7236210f5b4}{\index{cipassembly.\-c@{cipassembly.\-c}!\-Cip\-Assembly\-Initialize@{\-Cip\-Assembly\-Initialize}}
\index{\-Cip\-Assembly\-Initialize@{\-Cip\-Assembly\-Initialize}!cipassembly.c@{cipassembly.\-c}}
\subsubsection[{\-Cip\-Assembly\-Initialize}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Eip\-Status} {\bf \-Cip\-Assembly\-Initialize} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{df/d2e/cipassembly_8c_a4dfbc2c7a8e9e77f05a0a7236210f5b4}


create the \-C\-I\-P \-Assembly object with zero instances 

\-Setup the \-Assembly object.

\-Definition at line 52 of file cipassembly.\-c.



\-References \-Create\-Assembly\-Class(), k\-Eip\-Status\-Error, and k\-Eip\-Status\-Ok.



\-Referenced by \-Cip\-Stack\-Init().



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d2e/cipassembly_8c_a4dfbc2c7a8e9e77f05a0a7236210f5b4_cgraph}
\end{center}
\end{figure}




\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d2e/cipassembly_8c_a4dfbc2c7a8e9e77f05a0a7236210f5b4_icgraph}
\end{center}
\end{figure}


\hypertarget{cipassembly_8c_a5973ef42110a1bdf6c7699e35e04b7d4}{\index{cipassembly.\-c@{cipassembly.\-c}!\-Create\-Assembly\-Class@{\-Create\-Assembly\-Class}}
\index{\-Create\-Assembly\-Class@{\-Create\-Assembly\-Class}!cipassembly.c@{cipassembly.\-c}}
\subsubsection[{\-Create\-Assembly\-Class}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Cip\-Class}$\ast$ {\bf \-Create\-Assembly\-Class} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{df/d2e/cipassembly_8c_a5973ef42110a1bdf6c7699e35e04b7d4}


\-Constructor for the assembly object class. 

\-Creates an initializes \-Assembly class or object instances \begin{DoxyReturn}{\-Returns}
\-Pointer to the created \-Assembly object 
\end{DoxyReturn}


\-Definition at line 29 of file cipassembly.\-c.



\-References \-Create\-Cip\-Class(), \-Insert\-Service(), k\-Set\-Attribute\-Single, and \-Set\-Assembly\-Attribute\-Single().



\-Referenced by \-Cip\-Assembly\-Initialize(), and \-Create\-Assembly\-Object().



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d2e/cipassembly_8c_a5973ef42110a1bdf6c7699e35e04b7d4_cgraph}
\end{center}
\end{figure}




\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d2e/cipassembly_8c_a5973ef42110a1bdf6c7699e35e04b7d4_icgraph}
\end{center}
\end{figure}


\hypertarget{cipassembly_8c_a5dc25129faf75858c0aeaa88ea8d9490}{\index{cipassembly.\-c@{cipassembly.\-c}!\-Notify\-Assembly\-Connected\-Data\-Received@{\-Notify\-Assembly\-Connected\-Data\-Received}}
\index{\-Notify\-Assembly\-Connected\-Data\-Received@{\-Notify\-Assembly\-Connected\-Data\-Received}!cipassembly.c@{cipassembly.\-c}}
\subsubsection[{\-Notify\-Assembly\-Connected\-Data\-Received}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Eip\-Status} {\bf \-Notify\-Assembly\-Connected\-Data\-Received} (
\begin{DoxyParamCaption}
\item[{{\bf \-Cip\-Instance} $\ast$const}]{instance, }
\item[{const {\bf \-Eip\-Uint8} $\ast$const}]{data, }
\item[{const {\bf \-Eip\-Uint16}}]{data\-\_\-length}
\end{DoxyParamCaption}
)}}\label{df/d2e/cipassembly_8c_a5dc25129faf75858c0aeaa88ea8d9490}


notify an \-Assembly object that data has been received for it. 

\-The data will be copied into the assembly objects attribute 3 and the application will be informed with the \-I\-App\-\_\-after\-\_\-assembly\-\_\-data\-\_\-received function.


\begin{DoxyParams}{\-Parameters}
{\em instance} & the assembly object instance for which the data was received \\
\hline
{\em data} & pointer to the data received \\
\hline
{\em data\-\_\-length} & number of bytes received \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{\-Returns}

\begin{DoxyItemize}
\item \-E\-I\-P\-\_\-\-O\-K the received data was okay
\item \-E\-I\-P\-\_\-\-E\-R\-R\-O\-R the received data was wrong 
\end{DoxyItemize}
\end{DoxyReturn}


\-Definition at line 98 of file cipassembly.\-c.



\-References \-After\-Assembly\-Data\-Received(), cip\-\_\-instance\-::attributes, \-Cip\-Byte\-Array\-::data, \-Cip\-Attribute\-Struct\-::data, k\-Eip\-Status\-Error, \-Cip\-Byte\-Array\-::length, and \-O\-P\-E\-N\-E\-R\-\_\-\-T\-R\-A\-C\-E\-\_\-\-E\-R\-R.



\-Referenced by \-Handle\-Config\-Data(), and \-Handle\-Received\-Io\-Connection\-Data().



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d2e/cipassembly_8c_a5dc25129faf75858c0aeaa88ea8d9490_cgraph}
\end{center}
\end{figure}




\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d2e/cipassembly_8c_a5dc25129faf75858c0aeaa88ea8d9490_icgraph}
\end{center}
\end{figure}


\hypertarget{cipassembly_8c_a24f895e586ce144d560489723960ba80}{\index{cipassembly.\-c@{cipassembly.\-c}!\-Set\-Assembly\-Attribute\-Single@{\-Set\-Assembly\-Attribute\-Single}}
\index{\-Set\-Assembly\-Attribute\-Single@{\-Set\-Assembly\-Attribute\-Single}!cipassembly.c@{cipassembly.\-c}}
\subsubsection[{\-Set\-Assembly\-Attribute\-Single}]{\setlength{\rightskip}{0pt plus 5cm}{\bf \-Eip\-Status} {\bf \-Set\-Assembly\-Attribute\-Single} (
\begin{DoxyParamCaption}
\item[{{\bf \-Cip\-Instance} $\ast$const}]{instance, }
\item[{{\bf \-Cip\-Message\-Router\-Request} $\ast$const}]{message\-\_\-router\-\_\-request, }
\item[{{\bf \-Cip\-Message\-Router\-Response} $\ast$const}]{message\-\_\-router\-\_\-response}
\end{DoxyParamCaption}
)}}\label{df/d2e/cipassembly_8c_a24f895e586ce144d560489723960ba80}


\-Implementation of the \-Set\-Attribute\-Single \-C\-I\-P service for \-Assembly \-Objects. \-Currently only supports \-Attribute 3 (\-C\-I\-P\-\_\-\-B\-Y\-T\-E\-\_\-\-A\-R\-R\-A\-Y) of an \-Assembly. 



\-Definition at line 115 of file cipassembly.\-c.



\-References \-After\-Assembly\-Data\-Received(), \-Cip\-Epath\-::attribute\-\_\-number, \-Cip\-Byte\-Array\-::data, \-Cip\-Message\-Router\-Request\-::data, \-Cip\-Attribute\-Struct\-::data, \-Cip\-Message\-Router\-Request\-::data\-\_\-length, \-Cip\-Message\-Router\-Response\-::data\-\_\-length, \-Cip\-Message\-Router\-Response\-::general\-\_\-status, \-Get\-Cip\-Attribute(), cip\-\_\-instance\-::instance\-\_\-number, \-Is\-Connected\-Output\-Assembly(), k\-Cip\-Error\-Attribute\-Not\-Setable, k\-Cip\-Error\-Attribute\-Not\-Supported, k\-Cip\-Error\-Invalid\-Attribute\-Value, k\-Cip\-Error\-Not\-Enough\-Data, k\-Cip\-Error\-Success, k\-Cip\-Error\-Too\-Much\-Data, k\-Eip\-Status\-Ok, k\-Eip\-Status\-Ok\-Send, \-Cip\-Byte\-Array\-::length, \-O\-P\-E\-N\-E\-R\-\_\-\-T\-R\-A\-C\-E\-\_\-\-I\-N\-F\-O, \-O\-P\-E\-N\-E\-R\-\_\-\-T\-R\-A\-C\-E\-\_\-\-W\-A\-R\-N, \-Cip\-Message\-Router\-Response\-::reply\-\_\-service, \-Cip\-Message\-Router\-Request\-::request\-\_\-path, \-Cip\-Message\-Router\-Request\-::service, and \-Cip\-Message\-Router\-Response\-::size\-\_\-of\-\_\-additional\-\_\-status.



\-Referenced by \-Create\-Assembly\-Class().



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d2e/cipassembly_8c_a24f895e586ce144d560489723960ba80_cgraph}
\end{center}
\end{figure}




\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d2e/cipassembly_8c_a24f895e586ce144d560489723960ba80_icgraph}
\end{center}
\end{figure}


\hypertarget{cipassembly_8c_adcacd62b6a866c5c74c3cdda19598b98}{\index{cipassembly.\-c@{cipassembly.\-c}!\-Shutdown\-Assemblies@{\-Shutdown\-Assemblies}}
\index{\-Shutdown\-Assemblies@{\-Shutdown\-Assemblies}!cipassembly.c@{cipassembly.\-c}}
\subsubsection[{\-Shutdown\-Assemblies}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf \-Shutdown\-Assemblies} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{df/d2e/cipassembly_8c_adcacd62b6a866c5c74c3cdda19598b98}


clean up the data allocated in the assembly object instances 

\-Assembly object instances allocate per instance data to store attribute 3. \-This will be freed here. \-The assembly object data given by the application is not freed neither the assembly object instances. \-These are handled in the main shutdown function. 

\-Definition at line 56 of file cipassembly.\-c.



\-References \-Cip\-Free(), \-Cip\-Attribute\-Struct\-::data, \-Get\-Cip\-Attribute(), \-Get\-Cip\-Class(), cip\-\_\-class\-::instances, and cip\-\_\-instance\-::next.



\-Referenced by \-Shutdown\-Cip\-Stack().



\-Here is the call graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d2e/cipassembly_8c_adcacd62b6a866c5c74c3cdda19598b98_cgraph}
\end{center}
\end{figure}




\-Here is the caller graph for this function\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{df/d2e/cipassembly_8c_adcacd62b6a866c5c74c3cdda19598b98_icgraph}
\end{center}
\end{figure}


