<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>OpENer - Open Source EtherNet/IP(TM)  I/O Target Stack: OpENer Ethernet encapsulation layer</title>

<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">OpENer - Open Source EtherNet/IP(TM)  I/O Target Stack
   &#160;<span id="projectnumber">1.2</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('d4/d91/group__ENCAP.html','../../');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">OpENer Ethernet encapsulation layer</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#gafdcff621008b5e305165424c6ac4ea25">CipItemId</a> { <br/>
&#160;&#160;<a class="el" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a7d3d1f2d6b2f4ed65dc34b792bfdaa4f">kCipItemIdNullAddress</a> =  0x0000, 
<a class="el" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25aa082d77e86c75c44df304252971b4007">kCipItemIdListIdentityResponse</a> =  0x000C, 
<a class="el" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a0adf8007a319941f3aaa7d9624025c0f">kCipItemIdConnectionAddress</a> =  0x00A1, 
<a class="el" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a8761662aa0838fb723f8696e9ea4e217">kCipItemIdConnectedDataItem</a> =  0x00B1, 
<br/>
&#160;&#160;<a class="el" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a9b966ac289a5c11fc80a2ab274c99a19">kCipItemIdUnconnectedDataItem</a> =  0x00B2, 
<a class="el" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a43d8fa4dfdd73a9a23c8a75330d7b162">kCipItemIdListServiceResponse</a> =  0x0100, 
<a class="el" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a93851549b6af1ed796409633e8071623">kCipItemIdSocketAddressInfoOriginatorToTarget</a> =  0x8000, 
<a class="el" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25aef2e6ffe3e7443b14842d173c7f1e75d">kCipItemIdSocketAddressInfoTargetToOriginator</a> =  0x8001, 
<br/>
&#160;&#160;<a class="el" href="../../d4/d91/group__ENCAP.html#ggafdcff621008b5e305165424c6ac4ea25a21abefabf9f64dba055671507015f2b1">kCipItemIdSequencedAddressItem</a> =  0x8002
<br/>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">CPF is Common Packet Format CPF packet := &lt;number of="" items&gt;=""&gt; {&lt;items&gt;} item := &lt;TypeID&gt; &lt;Length&gt; &lt;data&gt; &lt;number of="" items&gt;=""&gt; := two bytes &lt;TypeID&gt; := two bytes &lt;Length&gt; := two bytes &lt;data&gt; := &lt;the number="" of="" bytes="" specified="" by="" length&gt;=""&gt;  <a href="../../d4/d91/group__ENCAP.html#gafdcff621008b5e305165424c6ac4ea25">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#gaafc3c9e3ff582c9b7e438ae2b1fdf822">AddDintToMessage</a> (const <a class="el" href="../../d7/d69/typedefs_8h.html#abf2dd49262551294eb990ef8746a2767">EipUint32</a> data, <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write an 32Bit integer to the network buffer.  <a href="#gaafc3c9e3ff582c9b7e438ae2b1fdf822"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#gae689aac2a85bf49fb356ec94c8800799">AddIntToMessage</a> (const <a class="el" href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a> data, <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Write an 16Bit integer to the network buffer.  <a href="#gae689aac2a85bf49fb356ec94c8800799"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#gae267a8684cc6ee1b3bd83df03260b7aa">AddSintToMessage</a> (const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> data, <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">converts UINT8 data from host to little endian an writes it to buffer.  <a href="#gae267a8684cc6ee1b3bd83df03260b7aa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#gad61fa4f84989cf27086d57557ad552c4">AssembleIOMessage</a> (<a class="el" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *common_packet_format_data_item, <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *message)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#gaa81c027561d86d2589b8002b36b88392">AssembleLinearMessage</a> (<a class="el" href="../../d0/d1f/structCipMessageRouterResponse.html">CipMessageRouterResponse</a> *message_router_response, <a class="el" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *common_packet_format_data_item, <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *message)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy data from message_router_response struct and common_packet_format_data_item into linear memory in pa_msg for transmission over in encapsulation.  <a href="#gaa81c027561d86d2589b8002b36b88392"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#ga5fd76bfeb985480d68d6fd4d97129606">CreateCommonPacketFormatStructure</a> (const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *data, int data_length, <a class="el" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *common_packet_format_data)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates Common Packet Format structure out of data.  <a href="#ga5fd76bfeb985480d68d6fd4d97129606"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#ga7a0dc2be6c485d9e6940d5b20a981022">EncapsulationInit</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the encapsulation layer.  <a href="#ga7a0dc2be6c485d9e6940d5b20a981022"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#ga1261bd2441f744c38d7a3f8d8c16c391">EncapsulationShutDown</a> (void)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Shutdown the encapsulation layer.  <a href="#ga1261bd2441f744c38d7a3f8d8c16c391"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d69/typedefs_8h.html#abf2dd49262551294eb990ef8746a2767">EipUint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#ga668f92389ee06510864585b97955f6f8">GetDintFromMessage</a> (const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an 32Bit integer from the network buffer.  <a href="#ga668f92389ee06510864585b97955f6f8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#ga70322f970709ca9c9a1a1d474cfe2302">GetIntFromMessage</a> (const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an 16Bit integer from the network buffer, and moves pointer beyond the 16 bit value.  <a href="#ga70322f970709ca9c9a1a1d474cfe2302"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#ga0a45608ad12bae48152cb1cfafef1a4c">GetSintFromMessage</a> (const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const buffer)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads EIP_UINT8 from *buffer and converts little endian to host.  <a href="#ga0a45608ad12bae48152cb1cfafef1a4c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac">ManageEncapsulationMessages</a> (const <a class="el" href="../../d7/d69/typedefs_8h.html#a2972c9424f18b12265ca35d0548da82a">MilliSeconds</a> elapsed_time)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle delayed encapsulation message responses.  <a href="#ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#ga401f152f47e54b0a6dddcfe723c086f9">NotifyCommonPacketFormat</a> (<a class="el" href="../../d7/df9/encap_8h.html#ac4bf15574436ce32c449e9f41b69c994">EncapsulationData</a> *const received_data, <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *const reply_buffer)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#ga045feac9b8747e049e2420df1ec0844b">NotifyConnectedCommonPacketFormat</a> (<a class="el" href="../../d7/df9/encap_8h.html#ac4bf15574436ce32c449e9f41b69c994">EncapsulationData</a> *received_data, <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *reply_buffer)</td></tr>
<tr><td colspan="2"><h2><a name="var-members"></a>
Variables</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d4/d91/group__ENCAP.html#gafaae5be8de81c633ea4df46fa8b957e0">g_common_packet_format_data_item</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Data storage for the any CPF data Currently we are single threaded and need only one CPF at the time. For future extensions towards multithreading maybe more CPF data items may be necessary.  <a href="#gafaae5be8de81c633ea4df46fa8b957e0"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<p>The Ethernet encapsulation layer handles provides the abstraction between the Ethernet and the CIP layer. </p>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gafdcff621008b5e305165424c6ac4ea25"></a><!-- doxytag: member="cpf.h::CipItemId" ref="gafdcff621008b5e305165424c6ac4ea25" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d4/d91/group__ENCAP.html#gafdcff621008b5e305165424c6ac4ea25">CipItemId</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>CPF is Common Packet Format CPF packet := &lt;number of="" items&gt;=""&gt; {&lt;items&gt;} item := &lt;TypeID&gt; &lt;Length&gt; &lt;data&gt; &lt;number of="" items&gt;=""&gt; := two bytes &lt;TypeID&gt; := two bytes &lt;Length&gt; := two bytes &lt;data&gt; := &lt;the number="" of="" bytes="" specified="" by="" length&gt;=""&gt; </p>
<p>Definition of Item ID numbers used for address and data items in CPF structures </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggafdcff621008b5e305165424c6ac4ea25a7d3d1f2d6b2f4ed65dc34b792bfdaa4f"></a><!-- doxytag: member="kCipItemIdNullAddress" ref="ggafdcff621008b5e305165424c6ac4ea25a7d3d1f2d6b2f4ed65dc34b792bfdaa4f" args="" -->kCipItemIdNullAddress</em>&nbsp;</td><td>
<p>Type: Address; Indicates that encapsulation routing is not needed. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggafdcff621008b5e305165424c6ac4ea25aa082d77e86c75c44df304252971b4007"></a><!-- doxytag: member="kCipItemIdListIdentityResponse" ref="ggafdcff621008b5e305165424c6ac4ea25aa082d77e86c75c44df304252971b4007" args="" -->kCipItemIdListIdentityResponse</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggafdcff621008b5e305165424c6ac4ea25a0adf8007a319941f3aaa7d9624025c0f"></a><!-- doxytag: member="kCipItemIdConnectionAddress" ref="ggafdcff621008b5e305165424c6ac4ea25a0adf8007a319941f3aaa7d9624025c0f" args="" -->kCipItemIdConnectionAddress</em>&nbsp;</td><td>
<p>Type: Address; Connection-based, used for connected messages, see Vol.2, p.42 </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggafdcff621008b5e305165424c6ac4ea25a8761662aa0838fb723f8696e9ea4e217"></a><!-- doxytag: member="kCipItemIdConnectedDataItem" ref="ggafdcff621008b5e305165424c6ac4ea25a8761662aa0838fb723f8696e9ea4e217" args="" -->kCipItemIdConnectedDataItem</em>&nbsp;</td><td>
<p>Type: Data; Connected data item, see Vol.2, p.43 </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggafdcff621008b5e305165424c6ac4ea25a9b966ac289a5c11fc80a2ab274c99a19"></a><!-- doxytag: member="kCipItemIdUnconnectedDataItem" ref="ggafdcff621008b5e305165424c6ac4ea25a9b966ac289a5c11fc80a2ab274c99a19" args="" -->kCipItemIdUnconnectedDataItem</em>&nbsp;</td><td>
<p>Type: Data; Unconnected message </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggafdcff621008b5e305165424c6ac4ea25a43d8fa4dfdd73a9a23c8a75330d7b162"></a><!-- doxytag: member="kCipItemIdListServiceResponse" ref="ggafdcff621008b5e305165424c6ac4ea25a43d8fa4dfdd73a9a23c8a75330d7b162" args="" -->kCipItemIdListServiceResponse</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggafdcff621008b5e305165424c6ac4ea25a93851549b6af1ed796409633e8071623"></a><!-- doxytag: member="kCipItemIdSocketAddressInfoOriginatorToTarget" ref="ggafdcff621008b5e305165424c6ac4ea25a93851549b6af1ed796409633e8071623" args="" -->kCipItemIdSocketAddressInfoOriginatorToTarget</em>&nbsp;</td><td>
<p>Type: Data; Sockaddr info item originator to target </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggafdcff621008b5e305165424c6ac4ea25aef2e6ffe3e7443b14842d173c7f1e75d"></a><!-- doxytag: member="kCipItemIdSocketAddressInfoTargetToOriginator" ref="ggafdcff621008b5e305165424c6ac4ea25aef2e6ffe3e7443b14842d173c7f1e75d" args="" -->kCipItemIdSocketAddressInfoTargetToOriginator</em>&nbsp;</td><td>
<p>Type: Data; Sockaddr info item target to originator </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggafdcff621008b5e305165424c6ac4ea25a21abefabf9f64dba055671507015f2b1"></a><!-- doxytag: member="kCipItemIdSequencedAddressItem" ref="ggafdcff621008b5e305165424c6ac4ea25a21abefabf9f64dba055671507015f2b1" args="" -->kCipItemIdSequencedAddressItem</em>&nbsp;</td><td>
<p>Sequenced Address item </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="../../d0/dff/cpf_8h_source.html#l00024">24</a> of file <a class="el" href="../../d0/dff/cpf_8h_source.html">cpf.h</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="gaafc3c9e3ff582c9b7e438ae2b1fdf822"></a><!-- doxytag: member="endianconv.h::AddDintToMessage" ref="gaafc3c9e3ff582c9b7e438ae2b1fdf822" args="(const EipUint32 data, EipUint8 **const buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d4/d91/group__ENCAP.html#gaafc3c9e3ff582c9b7e438ae2b1fdf822">AddDintToMessage</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d69/typedefs_8h.html#abf2dd49262551294eb990ef8746a2767">EipUint32</a>&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write an 32Bit integer to the network buffer. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>value to write </td></tr>
    <tr><td class="paramname">buffer</td><td>pointer to the network buffer array. This pointer will be incremented by 4!</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Length in bytes of the encoded message</dd></dl>
<p>Write an 32Bit integer to the network buffer.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>value to be written </td></tr>
    <tr><td class="paramname">buffer</td><td>pointer where data should be written. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d73/endianconv_8c_source.html#l00094">94</a> of file <a class="el" href="../../da/d73/endianconv_8c_source.html">endianconv.c</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00729">AssembleForwardCloseResponse()</a>, <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00608">AssembleForwardOpenResponse()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00564">AssembleLinearMessage()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00290">EncapsulateData()</a>, <a class="el" href="../../da/d73/endianconv_8c_source.html#l00151">EncapsulateIpAddress()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00370">EncapsulateListIdentyResponseMessage()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00232">EncodeConnectedAddressItem()</a>, <a class="el" href="../../d2/d3d/cipcommon_8c_source.html#l00404">EncodeData()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00253">EncodeSequencedAddressItem()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00425">HandleReceivedRegisterSessionCommand()</a>, and <a class="el" href="../../df/d03/cipioconnection_8c_source.html#l00603">SendConnectedData()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_gaafc3c9e3ff582c9b7e438ae2b1fdf822_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae689aac2a85bf49fb356ec94c8800799"></a><!-- doxytag: member="endianconv.h::AddIntToMessage" ref="gae689aac2a85bf49fb356ec94c8800799" args="(const EipUint16 data, EipUint8 **const buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d4/d91/group__ENCAP.html#gae689aac2a85bf49fb356ec94c8800799">AddIntToMessage</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a>&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Write an 16Bit integer to the network buffer. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>value to write </td></tr>
    <tr><td class="paramname">buffer</td><td>pointer to the network buffer array. This pointer will be incremented by 2!</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Length in bytes of the encoded message</dd></dl>
<p>Write an 16Bit integer to the network buffer.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>value to be written </td></tr>
    <tr><td class="paramname">buffer</td><td>pointer where data should be written. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d73/endianconv_8c_source.html#l00080">80</a> of file <a class="el" href="../../da/d73/endianconv_8c_source.html">endianconv.c</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00729">AssembleForwardCloseResponse()</a>, <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00608">AssembleForwardOpenResponse()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00564">AssembleLinearMessage()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00290">EncapsulateData()</a>, <a class="el" href="../../da/d73/endianconv_8c_source.html#l00151">EncapsulateIpAddress()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00370">EncapsulateListIdentyResponseMessage()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00232">EncodeConnectedAddressItem()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00346">EncodeConnectedDataItemLength()</a>, <a class="el" href="../../d2/d3d/cipcommon_8c_source.html#l00404">EncodeData()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00309">EncodeDataItemLength()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00292">EncodeDataItemType()</a>, <a class="el" href="../../d2/d3d/cipcommon_8c_source.html#l00687">EncodeEPath()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00449">EncodeExtendedStatusDataItems()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00277">EncodeItemCount()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00217">EncodeNullAddressItem()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00253">EncodeSequencedAddressItem()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00366">EncodeSequenceNumber()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00525">EncodeSockaddrInfoItemTypeId()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00547">EncodeSockaddrInfoLength()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00489">EncodeUnconnectedDataItemLength()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00336">HandleReceivedListIdentityCommandUdp()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00324">HandleReceivedListInterfacesCommand()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00305">HandleReceivedListServicesCommand()</a>, and <a class="el" href="../../df/d03/cipioconnection_8c_source.html#l00603">SendConnectedData()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_gae689aac2a85bf49fb356ec94c8800799_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="gae267a8684cc6ee1b3bd83df03260b7aa"></a><!-- doxytag: member="endianconv.h::AddSintToMessage" ref="gae267a8684cc6ee1b3bd83df03260b7aa" args="(const EipUint8 data, EipUint8 **const buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d4/d91/group__ENCAP.html#gae267a8684cc6ee1b3bd83df03260b7aa">AddSintToMessage</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a>&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const&#160;</td>
          <td class="paramname"><em>buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>converts UINT8 data from host to little endian an writes it to buffer. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>value to be written </td></tr>
    <tr><td class="paramname">buffer</td><td>pointer where data should be written. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d73/endianconv_8c_source.html#l00067">67</a> of file <a class="el" href="../../da/d73/endianconv_8c_source.html">endianconv.c</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d3d/cipcommon_8c_source.html#l00404">EncodeData()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00326">EncodeDataItemData()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00432">EncodeExtendedStatusLength()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00416">EncodeGeneralStatus()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00506">EncodeMessageRouterResponseData()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00385">EncodeReplyService()</a>, and <a class="el" href="../../d3/d98/cpf_8c_source.html#l00400">EncodeReservedFieldOfLengthByte()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_gae267a8684cc6ee1b3bd83df03260b7aa_icgraph.svg" width="100%" height="459"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="gad61fa4f84989cf27086d57557ad552c4"></a><!-- doxytag: member="cpf.h::AssembleIOMessage" ref="gad61fa4f84989cf27086d57557ad552c4" args="(CipCommonPacketFormatData *common_packet_format_data_item, EipUint8 *message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d4/d91/group__ENCAP.html#gad61fa4f84989cf27086d57557ad552c4">AssembleIOMessage</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *&#160;</td>
          <td class="paramname"><em>common_packet_format_data_item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Copy data from CPFDataItem into linear memory in message for transmission over in encapsulation. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">message_router_response</td><td>pointer to message router response which has to be aligned into linear memory. </td></tr>
    <tr><td class="paramname">common_packet_format_data_item</td><td>pointer to CPF structure which has to be aligned into linear memory. </td></tr>
    <tr><td class="paramname">message</td><td>pointer to linear memory. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>length of reply in pa_msg in bytes EIP_ERROR .. error </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d98/cpf_8c_source.html#l00680">680</a> of file <a class="el" href="../../d3/d98/cpf_8c_source.html">cpf.c</a>.</p>

<p>References <a class="el" href="../../d3/d98/cpf_8c_source.html#l00564">AssembleLinearMessage()</a>, and <a class="el" href="../../d2/d3d/cipcommon_8c_source.html#l00026">g_message_data_reply_buffer</a>.</p>

<p>Referenced by <a class="el" href="../../df/d03/cipioconnection_8c_source.html#l00603">SendConnectedData()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_gad61fa4f84989cf27086d57557ad552c4_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_gad61fa4f84989cf27086d57557ad552c4_icgraph.svg" width="100%" height="60"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa81c027561d86d2589b8002b36b88392"></a><!-- doxytag: member="cpf.h::AssembleLinearMessage" ref="gaa81c027561d86d2589b8002b36b88392" args="(CipMessageRouterResponse *message_router_response, CipCommonPacketFormatData *common_packet_format_data_item, EipUint8 *message)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d4/d91/group__ENCAP.html#gaa81c027561d86d2589b8002b36b88392">AssembleLinearMessage</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d1f/structCipMessageRouterResponse.html">CipMessageRouterResponse</a> *&#160;</td>
          <td class="paramname"><em>message_router_response</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *&#160;</td>
          <td class="paramname"><em>common_packet_format_data_item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Copy data from message_router_response struct and common_packet_format_data_item into linear memory in pa_msg for transmission over in encapsulation. </p>
<p>Copy data from MRResponse struct and CPFDataItem into linear memory in message for transmission over in encapsulation. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">message_router_response</td><td>pointer to message router response which has to be aligned into linear memory. </td></tr>
    <tr><td class="paramname">common_packet_format_data_item</td><td>pointer to CPF structure which has to be aligned into linear memory. </td></tr>
    <tr><td class="paramname">message</td><td>pointer to linear memory. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>length of reply in pa_msg in bytes EIP_ERROR .. error</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">message_router_response</td><td>pointer to message router response which has to be aligned into linear memory. </td></tr>
    <tr><td class="paramname">common_packet_format_data_item</td><td>pointer to CPF structure which has to be aligned into linear memory. </td></tr>
    <tr><td class="paramname">message</td><td>pointer to linear memory. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>length of reply in message in bytes -1 .. error </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d98/cpf_8c_source.html#l00564">564</a> of file <a class="el" href="../../d3/d98/cpf_8c_source.html">cpf.c</a>.</p>

<p>References <a class="el" href="../../da/d73/endianconv_8c_source.html#l00094">AddDintToMessage()</a>, <a class="el" href="../../da/d73/endianconv_8c_source.html#l00080">AddIntToMessage()</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00068">CipCommonPacketFormatData::address_info_item</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00066">CipCommonPacketFormatData::address_item</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00067">CipCommonPacketFormatData::data_item</a>, <a class="el" href="../../da/d73/endianconv_8c_source.html#l00151">EncapsulateIpAddress()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00232">EncodeConnectedAddressItem()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00346">EncodeConnectedDataItemLength()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00326">EncodeDataItemData()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00309">EncodeDataItemLength()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00292">EncodeDataItemType()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00472">EncodeExtendedStatus()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00416">EncodeGeneralStatus()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00277">EncodeItemCount()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00506">EncodeMessageRouterResponseData()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00217">EncodeNullAddressItem()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00385">EncodeReplyService()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00400">EncodeReservedFieldOfLengthByte()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00253">EncodeSequencedAddressItem()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00366">EncodeSequenceNumber()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00525">EncodeSockaddrInfoItemTypeId()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00547">EncodeSockaddrInfoLength()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00489">EncodeUnconnectedDataItemLength()</a>, <a class="el" href="../../da/d73/endianconv_8c_source.html#l00219">FillNextNMessageOctetsWithValueAndMoveToNextPosition()</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00028">kCipItemIdConnectedDataItem</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00027">kCipItemIdConnectionAddress</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00025">kCipItemIdNullAddress</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00033">kCipItemIdSequencedAddressItem</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00031">kCipItemIdSocketAddressInfoOriginatorToTarget</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00032">kCipItemIdSocketAddressInfoTargetToOriginator</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00029">kCipItemIdUnconnectedDataItem</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00058">SocketAddressInfoItem::sin_addr</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00057">SocketAddressInfoItem::sin_port</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00042">AddressItem::type_id</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00048">DataItem::type_id</a>, and <a class="el" href="../../d0/dff/cpf_8h_source.html#l00054">SocketAddressInfoItem::type_id</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d98/cpf_8c_source.html#l00680">AssembleIOMessage()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00025">NotifyCommonPacketFormat()</a>, and <a class="el" href="../../d3/d98/cpf_8c_source.html#l00064">NotifyConnectedCommonPacketFormat()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_gaa81c027561d86d2589b8002b36b88392_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_gaa81c027561d86d2589b8002b36b88392_icgraph.svg" width="100%" height="150"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga5fd76bfeb985480d68d6fd4d97129606"></a><!-- doxytag: member="cpf.h::CreateCommonPacketFormatStructure" ref="ga5fd76bfeb985480d68d6fd4d97129606" args="(const EipUint8 *data, int data_length, CipCommonPacketFormatData *common_packet_format_data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d69/typedefs_8h.html#a3dcc5f7837c120360f8cc88a76781709">EipStatus</a> <a class="el" href="../../d4/d91/group__ENCAP.html#ga5fd76bfeb985480d68d6fd4d97129606">CreateCommonPacketFormatStructure</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>data_length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> *&#160;</td>
          <td class="paramname"><em>common_packet_format_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Creates Common Packet Format structure out of data. </p>
<p>Create CPF structure out of the received data. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>pointer to data which need to be structured. </td></tr>
    <tr><td class="paramname">data_length</td><td>length of data in pa_Data. </td></tr>
    <tr><td class="paramname">common_packet_format_data</td><td>pointer to structure of CPF data item. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>status EIP_OK .. success EIP_ERROR .. error</dd></dl>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>Pointer to data which need to be structured. </td></tr>
    <tr><td class="paramname">data_length</td><td>Length of data in pa_Data. </td></tr>
    <tr><td class="paramname">common_packet_format_data</td><td>Pointer to structure of CPF data item.</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>kEipStatusOk .. success kEipStatusError .. error </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d98/cpf_8c_source.html#l00130">130</a> of file <a class="el" href="../../d3/d98/cpf_8c_source.html">cpf.c</a>.</p>

<p>References <a class="el" href="../../d0/dff/cpf_8h_source.html#l00068">CipCommonPacketFormatData::address_info_item</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00066">CipCommonPacketFormatData::address_item</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00037">AddressData::connection_identifier</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00044">AddressItem::data</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00050">DataItem::data</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00067">CipCommonPacketFormatData::data_item</a>, <a class="el" href="../../da/d73/endianconv_8c_source.html#l00055">GetDintFromMessage()</a>, <a class="el" href="../../da/d73/endianconv_8c_source.html#l00043">GetIntFromMessage()</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00065">CipCommonPacketFormatData::item_count</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00031">kCipItemIdSocketAddressInfoOriginatorToTarget</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00032">kCipItemIdSocketAddressInfoTargetToOriginator</a>, <a class="el" href="../../d7/d69/typedefs_8h_source.html#l00095">kEipStatusError</a>, <a class="el" href="../../d7/d69/typedefs_8h_source.html#l00093">kEipStatusOk</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00043">AddressItem::length</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00049">DataItem::length</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00055">SocketAddressInfoItem::length</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00059">SocketAddressInfoItem::nasin_zero</a>, <a class="el" href="../../d1/d1b/trace_8h_source.html#l00086">OPENER_TRACE_WARN</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00038">AddressData::sequence_number</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00058">SocketAddressInfoItem::sin_addr</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00056">SocketAddressInfoItem::sin_family</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00057">SocketAddressInfoItem::sin_port</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00042">AddressItem::type_id</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00048">DataItem::type_id</a>, and <a class="el" href="../../d0/dff/cpf_8h_source.html#l00054">SocketAddressInfoItem::type_id</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00199">HandleReceivedConnectedData()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00025">NotifyCommonPacketFormat()</a>, and <a class="el" href="../../d3/d98/cpf_8c_source.html#l00064">NotifyConnectedCommonPacketFormat()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga5fd76bfeb985480d68d6fd4d97129606_cgraph.svg" width="462" height="94"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga5fd76bfeb985480d68d6fd4d97129606_icgraph.svg" width="100%" height="150"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga7a0dc2be6c485d9e6940d5b20a981022"></a><!-- doxytag: member="encap.h::EncapsulationInit" ref="ga7a0dc2be6c485d9e6940d5b20a981022" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d4/d91/group__ENCAP.html#ga7a0dc2be6c485d9e6940d5b20a981022">EncapsulationInit</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialize the encapsulation layer. </p>

<p>Definition at line <a class="el" href="../../d2/dbd/encap_8c_source.html#l00125">125</a> of file <a class="el" href="../../d2/dbd/encap_8c_source.html">encap.c</a>.</p>

<p>References <a class="el" href="../../d7/df9/encap_8h_source.html#l00055">encapsulation_interface_information::capability_flags</a>, <a class="el" href="../../da/d73/endianconv_8c_source.html#l00191">DetermineEndianess()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00066">ENCAP_NUMBER_OF_SUPPORTED_DELAYED_ENCAP_MESSAGES</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00054">encapsulation_interface_information::encapsulation_protocol_version</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00081">g_interface_information</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00083">g_registered_sessions</a>, <a class="el" href="../../df/d28/ciptypes_8h_source.html#l00346">CipTcpIpNetworkInterfaceConfiguration::ip_address</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00062">kCapabilityFlagsCipTcp</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00063">kCapabilityFlagsCipUdpClass0or1</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00030">kCipItemIdListServiceResponse</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00053">encapsulation_interface_information::length</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00056">encapsulation_interface_information::name_of_service</a>, <a class="el" href="../../dd/d1b/POSIX_2sample__application_2opener__user__conf_8h_source.html#l00091">OPENER_NUMBER_OF_SUPPORTED_SESSIONS</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00075">DelayedEncapsulationMessage::socket</a>, and <a class="el" href="../../d7/df9/encap_8h_source.html#l00052">encapsulation_interface_information::type_code</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d3d/cipcommon_8c_source.html#l00033">CipStackInit()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga7a0dc2be6c485d9e6940d5b20a981022_cgraph.svg" width="326" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga7a0dc2be6c485d9e6940d5b20a981022_icgraph.svg" width="376" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga1261bd2441f744c38d7a3f8d8c16c391"></a><!-- doxytag: member="encap.h::EncapsulationShutDown" ref="ga1261bd2441f744c38d7a3f8d8c16c391" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d4/d91/group__ENCAP.html#ga1261bd2441f744c38d7a3f8d8c16c391">EncapsulationShutDown</a> </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Shutdown the encapsulation layer. </p>
<p>This means that all open sessions including their sockets are closed. </p>

<p>Definition at line <a class="el" href="../../d2/dbd/encap_8c_source.html#l00632">632</a> of file <a class="el" href="../../d2/dbd/encap_8c_source.html">encap.c</a>.</p>

<p>References <a class="el" href="../../d2/dbd/encap_8c_source.html#l00083">g_registered_sessions</a>, <a class="el" href="../../db/d4f/generic__networkhandler_8c_source.html#l00207">IApp_CloseSocket_tcp()</a>, and <a class="el" href="../../dd/d1b/POSIX_2sample__application_2opener__user__conf_8h_source.html#l00091">OPENER_NUMBER_OF_SUPPORTED_SESSIONS</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d3d/cipcommon_8c_source.html#l00056">ShutdownCipStack()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga1261bd2441f744c38d7a3f8d8c16c391_cgraph.svg" width="100%" height="60"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga1261bd2441f744c38d7a3f8d8c16c391_icgraph.svg" width="459" height="40"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga668f92389ee06510864585b97955f6f8"></a><!-- doxytag: member="endianconv.h::GetDintFromMessage" ref="ga668f92389ee06510864585b97955f6f8" args="(const EipUint8 **const buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d69/typedefs_8h.html#abf2dd49262551294eb990ef8746a2767">EipUint32</a> <a class="el" href="../../d4/d91/group__ENCAP.html#ga668f92389ee06510864585b97955f6f8">GetDintFromMessage</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get an 32Bit integer from the network buffer. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>pointer to the network buffer array. This pointer will be incremented by 4! </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Extracted 32 bit integer value</dd></dl>
<p>Get an 32Bit integer from the network buffer.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>pointer where data should be reed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>EIP_UNÍT32 value </dd></dl>

<p>Definition at line <a class="el" href="../../da/d73/endianconv_8c_source.html#l00055">55</a> of file <a class="el" href="../../da/d73/endianconv_8c_source.html">endianconv.c</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d98/cpf_8c_source.html#l00130">CreateCommonPacketFormatStructure()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00589">CreateEncapsulationStructure()</a>, <a class="el" href="../../d2/d3d/cipcommon_8c_source.html#l00562">DecodeData()</a>, <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00461">ForwardClose()</a>, <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00262">ForwardOpen()</a>, <a class="el" href="../../df/d03/cipioconnection_8c_source.html#l00678">HandleReceivedIoConnectionData()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00535">HandleReceivedSendRequestResponseDataCommand()</a>, and <a class="el" href="../../d2/dbd/encap_8c_source.html#l00499">HandleReceivedSendUnitDataCommand()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga668f92389ee06510864585b97955f6f8_icgraph.svg" width="100%" height="412"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga70322f970709ca9c9a1a1d474cfe2302"></a><!-- doxytag: member="endianconv.h::GetIntFromMessage" ref="ga70322f970709ca9c9a1a1d474cfe2302" args="(const EipUint8 **const buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d69/typedefs_8h.html#ac1b4cfa25b4f5def62f23b455dd395d8">EipUint16</a> <a class="el" href="../../d4/d91/group__ENCAP.html#ga70322f970709ca9c9a1a1d474cfe2302">GetIntFromMessage</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Get an 16Bit integer from the network buffer, and moves pointer beyond the 16 bit value. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>Pointer to the network buffer array. This pointer will be incremented by 2! </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>Extracted 16 bit integer value</dd></dl>
<p>Get an 16Bit integer from the network buffer, and moves pointer beyond the 16 bit value.</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>pointer where data should be reed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>EIP_UINT16 data value </dd></dl>

<p>Definition at line <a class="el" href="../../da/d73/endianconv_8c_source.html#l00043">43</a> of file <a class="el" href="../../da/d73/endianconv_8c_source.html">endianconv.c</a>.</p>

<p>Referenced by <a class="el" href="../../d3/d98/cpf_8c_source.html#l00130">CreateCommonPacketFormatStructure()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00589">CreateEncapsulationStructure()</a>, <a class="el" href="../../d2/d3d/cipcommon_8c_source.html#l00562">DecodeData()</a>, <a class="el" href="../../d2/d3d/cipcommon_8c_source.html#l00743">DecodePaddedEPath()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00407">DetermineDelayTime()</a>, <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00461">ForwardClose()</a>, <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00262">ForwardOpen()</a>, <a class="el" href="../../db/d4f/generic__networkhandler_8c_source.html#l00457">HandleDataOnTcpSocket()</a>, <a class="el" href="../../df/d03/cipioconnection_8c_source.html#l00678">HandleReceivedIoConnectionData()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00425">HandleReceivedRegisterSessionCommand()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00535">HandleReceivedSendRequestResponseDataCommand()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00499">HandleReceivedSendUnitDataCommand()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00064">NotifyConnectedCommonPacketFormat()</a>, and <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00896">ParseConnectionPath()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga70322f970709ca9c9a1a1d474cfe2302_icgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga0a45608ad12bae48152cb1cfafef1a4c"></a><!-- doxytag: member="endianconv.h::GetSintFromMessage" ref="ga0a45608ad12bae48152cb1cfafef1a4c" args="(const EipUint8 **const buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> <a class="el" href="../../d4/d91/group__ENCAP.html#ga0a45608ad12bae48152cb1cfafef1a4c">GetSintFromMessage</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> **const&#160;</td>
          <td class="paramname"><em>buffer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reads EIP_UINT8 from *buffer and converts little endian to host. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">buffer</td><td>pointer where data should be reed. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>EIP_UINT8 data value </dd></dl>

<p>Definition at line <a class="el" href="../../da/d73/endianconv_8c_source.html#l00029">29</a> of file <a class="el" href="../../da/d73/endianconv_8c_source.html">endianconv.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac"></a><!-- doxytag: member="encap.h::ManageEncapsulationMessages" ref="ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac" args="(const MilliSeconds elapsed_time)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="../../d4/d91/group__ENCAP.html#ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac">ManageEncapsulationMessages</a> </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d7/d69/typedefs_8h.html#a2972c9424f18b12265ca35d0548da82a">MilliSeconds</a>&#160;</td>
          <td class="paramname"><em>elapsed_time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Handle delayed encapsulation message responses. </p>
<p>Certain encapsulation message requests require a delayed sending of the response message. This functions checks if messages need to be sent and performs the sending. </p>

<p>Definition at line <a class="el" href="../../d2/dbd/encap_8c_source.html#l00641">641</a> of file <a class="el" href="../../d2/dbd/encap_8c_source.html">encap.c</a>.</p>

<p>References <a class="el" href="../../d2/dbd/encap_8c_source.html#l00066">ENCAP_NUMBER_OF_SUPPORTED_DELAYED_ENCAP_MESSAGES</a>, <a class="el" href="../../db/d4f/generic__networkhandler_8c_source.html#l00433">SendUdpData()</a>, <a class="el" href="../../d2/dbd/encap_8c_source.html#l00075">DelayedEncapsulationMessage::socket</a>, and <a class="el" href="../../d2/dbd/encap_8c_source.html#l00074">DelayedEncapsulationMessage::time_out</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00526">ManageConnections()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac_cgraph.svg" width="582" height="147"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga3b9c0d7d9d1413e4cd8ca5634b4bc9ac_icgraph.svg" width="100%" height="60"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga401f152f47e54b0a6dddcfe723c086f9"></a><!-- doxytag: member="cpf.h::NotifyCommonPacketFormat" ref="ga401f152f47e54b0a6dddcfe723c086f9" args="(EncapsulationData *const received_data, EipUint8 *const reply_buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d4/d91/group__ENCAP.html#ga401f152f47e54b0a6dddcfe723c086f9">NotifyCommonPacketFormat</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/df9/encap_8h.html#ac4bf15574436ce32c449e9f41b69c994">EncapsulationData</a> *const&#160;</td>
          <td class="paramname"><em>received_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *const&#160;</td>
          <td class="paramname"><em>reply_buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Parse the CPF data from a received unconnected explicit message and hand the data on to the message router</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">received_data</td><td>pointer to the encapsulation structure with the received message </td></tr>
    <tr><td class="paramname">reply_buffer</td><td>reply buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of bytes to be sent back. &lt; 0 if nothing should be sent </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d98/cpf_8c_source.html#l00025">25</a> of file <a class="el" href="../../d3/d98/cpf_8c_source.html">cpf.c</a>.</p>

<p>References <a class="el" href="../../d0/dff/cpf_8h_source.html#l00066">CipCommonPacketFormatData::address_item</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00564">AssembleLinearMessage()</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00130">CreateCommonPacketFormatStructure()</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00048">encapsulation_data::current_communication_buffer_position</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00050">DataItem::data</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00067">CipCommonPacketFormatData::data_item</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00042">encapsulation_data::data_length</a>, <a class="el" href="../../d9/d7d/cipmessagerouter_8c_source.html#l00014">g_message_router_response</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00025">kCipItemIdNullAddress</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00029">kCipItemIdUnconnectedDataItem</a>, <a class="el" href="../../d7/d69/typedefs_8h_source.html#l00095">kEipStatusError</a>, <a class="el" href="../../d7/d69/typedefs_8h_source.html#l00093">kEipStatusOk</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00033">kEncapsulationProtocolIncorrectData</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00049">DataItem::length</a>, <a class="el" href="../../d9/d7d/cipmessagerouter_8c_source.html#l00133">NotifyMessageRouter()</a>, <a class="el" href="../../d1/d1b/trace_8h_source.html#l00085">OPENER_TRACE_ERR</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00044">encapsulation_data::status</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00042">AddressItem::type_id</a>, and <a class="el" href="../../d0/dff/cpf_8h_source.html#l00048">DataItem::type_id</a>.</p>

<p>Referenced by <a class="el" href="../../d2/dbd/encap_8c_source.html#l00535">HandleReceivedSendRequestResponseDataCommand()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga401f152f47e54b0a6dddcfe723c086f9_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga401f152f47e54b0a6dddcfe723c086f9_icgraph.svg" width="100%" height="60"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga045feac9b8747e049e2420df1ec0844b"></a><!-- doxytag: member="cpf.h::NotifyConnectedCommonPacketFormat" ref="ga045feac9b8747e049e2420df1ec0844b" args="(EncapsulationData *received_data, EipUint8 *reply_buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="../../d4/d91/group__ENCAP.html#ga045feac9b8747e049e2420df1ec0844b">NotifyConnectedCommonPacketFormat</a> </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/df9/encap_8h.html#ac4bf15574436ce32c449e9f41b69c994">EncapsulationData</a> *&#160;</td>
          <td class="paramname"><em>received_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/d69/typedefs_8h.html#aa0c108ee762a27720919a4634643040e">EipUint8</a> *&#160;</td>
          <td class="paramname"><em>reply_buffer</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Parse the CPF data from a received connected explicit message, check the connection status, update any timers, and hand the data on to the message router</p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">received_data</td><td>pointer to the encapsulation structure with the received message </td></tr>
    <tr><td class="paramname">reply_buffer</td><td>reply buffer </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>number of bytes to be sent back. &lt; 0 if nothing should be sent </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d98/cpf_8c_source.html#l00064">64</a> of file <a class="el" href="../../d3/d98/cpf_8c_source.html">cpf.c</a>.</p>

<p>References <a class="el" href="../../d0/dff/cpf_8h_source.html#l00066">CipCommonPacketFormatData::address_item</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00564">AssembleLinearMessage()</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00037">AddressData::connection_identifier</a>, <a class="el" href="../../d2/da3/cipconnectionmanager_8h_source.html#l00156">connection_object::connection_timeout_multiplier</a>, <a class="el" href="../../d3/d98/cpf_8c_source.html#l00130">CreateCommonPacketFormatStructure()</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00048">encapsulation_data::current_communication_buffer_position</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00044">AddressItem::data</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00050">DataItem::data</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00067">CipCommonPacketFormatData::data_item</a>, <a class="el" href="../../d7/df9/encap_8h_source.html#l00042">encapsulation_data::data_length</a>, <a class="el" href="../../d9/d7d/cipmessagerouter_8c_source.html#l00014">g_message_router_response</a>, <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00771">GetConnectedObject()</a>, <a class="el" href="../../da/d73/endianconv_8c_source.html#l00043">GetIntFromMessage()</a>, <a class="el" href="../../d2/da3/cipconnectionmanager_8h_source.html#l00190">connection_object::inactivity_watchdog_timer</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00028">kCipItemIdConnectedDataItem</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00027">kCipItemIdConnectionAddress</a>, <a class="el" href="../../d7/d69/typedefs_8h_source.html#l00095">kEipStatusError</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00049">DataItem::length</a>, <a class="el" href="../../d9/d7d/cipmessagerouter_8c_source.html#l00133">NotifyMessageRouter()</a>, <a class="el" href="../../d2/da3/cipconnectionmanager_8h_source.html#l00157">connection_object::o_to_t_requested_packet_interval</a>, <a class="el" href="../../d1/d1b/trace_8h_source.html#l00085">OPENER_TRACE_ERR</a>, <a class="el" href="../../d2/da3/cipconnectionmanager_8h_source.html#l00139">connection_object::produced_connection_id</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00038">AddressData::sequence_number</a>, <a class="el" href="../../d0/dff/cpf_8h_source.html#l00042">AddressItem::type_id</a>, and <a class="el" href="../../d0/dff/cpf_8h_source.html#l00048">DataItem::type_id</a>.</p>

<p>Referenced by <a class="el" href="../../d2/dbd/encap_8c_source.html#l00499">HandleReceivedSendUnitDataCommand()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga045feac9b8747e049e2420df1ec0844b_cgraph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="../../d4/d91/group__ENCAP_ga045feac9b8747e049e2420df1ec0844b_icgraph.svg" width="100%" height="60"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
</div>
</p>

</div>
</div>
<hr/><h2>Variable Documentation</h2>
<a class="anchor" id="gafaae5be8de81c633ea4df46fa8b957e0"></a><!-- doxytag: member="cpf.h::g_common_packet_format_data_item" ref="gafaae5be8de81c633ea4df46fa8b957e0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d80/structCipCommonPacketFormatData.html">CipCommonPacketFormatData</a> <a class="el" href="../../d4/d91/group__ENCAP.html#gafaae5be8de81c633ea4df46fa8b957e0">g_common_packet_format_data_item</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Data storage for the any CPF data Currently we are single threaded and need only one CPF at the time. For future extensions towards multithreading maybe more CPF data items may be necessary. </p>
<p>CPF global data items </p>

<p>Definition at line <a class="el" href="../../d3/d98/cpf_8c_source.html#l00023">23</a> of file <a class="el" href="../../d3/d98/cpf_8c_source.html">cpf.c</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00729">AssembleForwardCloseResponse()</a>, <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00608">AssembleForwardOpenResponse()</a>, <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00461">ForwardClose()</a>, <a class="el" href="../../d5/d35/cipconnectionmanager_8c_source.html#l00199">HandleReceivedConnectedData()</a>, <a class="el" href="../../df/d03/cipioconnection_8c_source.html#l00711">OpenCommunicationChannels()</a>, <a class="el" href="../../df/d03/cipioconnection_8c_source.html#l00406">OpenMulticastConnection()</a>, <a class="el" href="../../df/d03/cipioconnection_8c_source.html#l00345">OpenProducingMulticastConnection()</a>, and <a class="el" href="../../df/d03/cipioconnection_8c_source.html#l00603">SendConnectedData()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div>
  <div id="nav-path" class="navpath">
    <ul>

    <li class="footer">Generated on Sat Dec 10 2016 11:45:42 for OpENer - Open Source EtherNet/IP(TM)  I/O Target Stack by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
